{"ast":null,"code":"import _objectSpread from\"C:/Users/PFI/Desktop/ATTENDANCE/ATTENDANCE/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{supabase}from'../supabase/supabase';import{useAuth}from'../contexts/AuthContext';import Modal from'../components/Modal';import Alert from'../components/Alert';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminDashboard=()=>{const{currentUser,userRole,loading}=useAuth();const navigate=useNavigate();// State\nconst[stats,setStats]=useState({totalStudents:0,totalInstructors:0,totalCourses:0,totalSessions:0,todayAttendance:0});const[students,setStudents]=useState([]);const[instructors,setInstructors]=useState([]);const[courses,setCourses]=useState([]);const[sessions,setSessions]=useState([]);const[attendanceData,setAttendanceData]=useState([]);const[recentSessions,setRecentSessions]=useState([]);// Modals\nconst[showAddStudentModal,setShowAddStudentModal]=useState(false);const[showAddInstructorModal,setShowAddInstructorModal]=useState(false);const[showAddCourseModal,setShowAddCourseModal]=useState(false);const[showAddSessionModal,setShowAddSessionModal]=useState(false);const[showImportCSVModal,setShowImportCSVModal]=useState(false);const[showExportModal,setShowExportModal]=useState(false);// Form states\nconst[studentForm,setStudentForm]=useState({name:'',matricule:'',email:'',password:''});const[instructorForm,setInstructorForm]=useState({name:'',matricule:'',email:'',password:''});const[courseForm,setCourseForm]=useState({course_code:'',course_title:'',program:'',year_level:''});const[sessionForm,setSessionForm]=useState({session_date:'',start_time:'',end_time:'',class_id:'',venue:''});const[csvFile,setCSVFile]=useState(null);// UI states\nconst[loading2,setLoading2]=useState(true);const[error,setError]=useState(null);const[success,setSuccess]=useState(null);const[showStudentPassword,setShowStudentPassword]=useState(false);const[showInstructorPassword,setShowInstructorPassword]=useState(false);const[notifications,setNotifications]=useState(1);useEffect(()=>{if(loading)return;if(!currentUser||userRole!=='admin'){navigate('/admin');return;}fetchAllData();},[currentUser,userRole,loading,navigate]);const fetchAllData=async()=>{try{var _studentsDataRes$data,_instructorsDataRes$d;setLoading2(true);setError(null);// Fetch stats\nconst[studentsRes,instructorsRes,coursesRes,sessionsRes,attendanceRes]=await Promise.all([supabase.from('users').select('id',{count:'exact'}).eq('role','student'),supabase.from('users').select('id',{count:'exact'}).eq('role','delegate'),supabase.from('courses').select('id',{count:'exact'}),supabase.from('sessions').select('id',{count:'exact'}),supabase.from('attendance').select('id',{count:'exact'}).gte('created_at',new Date().toISOString().split('T')[0])]);console.log('ðŸ“Š Fetch stats - Students:',studentsRes.count,'Instructors:',instructorsRes.count);setStats({totalStudents:studentsRes.count||0,totalInstructors:instructorsRes.count||0,totalCourses:coursesRes.count||0,totalSessions:sessionsRes.count||0,todayAttendance:attendanceRes.count||0});// Fetch detailed data\nconst[studentsDataRes,instructorsDataRes,coursesDataRes,sessionsDataRes,attendanceDataRes]=await Promise.all([supabase.from('users').select('*').eq('role','student').order('created_at',{ascending:false}),supabase.from('users').select('*').eq('role','delegate').order('created_at',{ascending:false}),supabase.from('courses').select('*').order('course_code',{ascending:true}),supabase.from('sessions').select(\"\\n            *,\\n            classes (\\n              class_name,\\n              courses (\\n                course_code,\\n                course_title\\n              )\\n            )\\n          \").order('session_date',{ascending:false}).limit(10),supabase.from('attendance').select(\"\\n            *,\\n            users (id, name, matricule),\\n            sessions (\\n              session_date,\\n              start_time,\\n              end_time,\\n              classes (\\n                courses (\\n                  course_code,\\n                  course_title\\n                )\\n              )\\n            )\\n          \").order('created_at',{ascending:false}).limit(100)]);console.log('ðŸ“‹ Detailed data - Students:',(_studentsDataRes$data=studentsDataRes.data)===null||_studentsDataRes$data===void 0?void 0:_studentsDataRes$data.length,'Instructors:',(_instructorsDataRes$d=instructorsDataRes.data)===null||_instructorsDataRes$d===void 0?void 0:_instructorsDataRes$d.length);if(studentsDataRes.error)console.error('Students fetch error:',studentsDataRes.error);if(instructorsDataRes.error)console.error('Instructors fetch error:',instructorsDataRes.error);setStudents(studentsDataRes.data||[]);setInstructors(instructorsDataRes.data||[]);setCourses(coursesDataRes.data||[]);setSessions(sessionsDataRes.data||[]);setRecentSessions(sessionsDataRes.data||[]);setAttendanceData(attendanceDataRes.data||[]);}catch(err){console.error('âŒ Error fetching data:',err);setError('Failed to load dashboard data');}finally{setLoading2(false);}};const handleAddStudent=async()=>{if(!studentForm.name||!studentForm.matricule||!studentForm.email||!studentForm.password){setError('âŒ Please fill in all required fields');return;}try{setLoading2(true);setError(null);// Step 1: Create auth user\nconst{data:authData,error:authError}=await supabase.auth.signUp({email:studentForm.email,password:studentForm.password,options:{data:{role:'student'}}});if(authError){throw new Error(authError.message||'Failed to create auth user');}if(!authData.user){throw new Error('No user data returned from auth signup');}// Step 2: Insert into users table with RLS bypass using service role\nconst{error:userError}=await supabase.from('users').insert([{id:authData.user.id,name:studentForm.name,matricule:studentForm.matricule,email:studentForm.email,role:'student'}]);if(userError){console.error('User insert error details:',userError);throw new Error(userError.message||'Failed to create user record in database');}setSuccess('âœ… Student added successfully!');setShowAddStudentModal(false);setStudentForm({name:'',matricule:'',email:'',password:''});setShowStudentPassword(false);// Refresh data\nawait new Promise(resolve=>setTimeout(resolve,1000));// Wait 1 second for DB sync\nawait fetchAllData();setTimeout(()=>setSuccess(null),3000);}catch(err){console.error('Error adding student:',err);setError(\"\\u274C Error: \".concat(err.message));setTimeout(()=>setError(null),5000);}finally{setLoading2(false);}};const handleAddInstructor=async()=>{if(!instructorForm.name||!instructorForm.matricule||!instructorForm.email||!instructorForm.password){setError('âŒ Please fill in all required fields');return;}try{setLoading2(true);setError(null);// Step 1: Create auth user\nconst{data:authData,error:authError}=await supabase.auth.signUp({email:instructorForm.email,password:instructorForm.password,options:{data:{role:'delegate'}}});if(authError){throw new Error(authError.message||'Failed to create auth user');}if(!authData.user){throw new Error('No user data returned from auth signup');}// Step 2: Insert into users table\nconst{error:userError}=await supabase.from('users').insert([{id:authData.user.id,name:instructorForm.name,matricule:instructorForm.matricule,email:instructorForm.email,role:'delegate'}]);if(userError){console.error('User insert error details:',userError);throw new Error(userError.message||'Failed to create user record in database');}setSuccess('âœ… Instructor added successfully!');setShowAddInstructorModal(false);setInstructorForm({name:'',matricule:'',email:'',password:''});setShowInstructorPassword(false);// Refresh data\nawait new Promise(resolve=>setTimeout(resolve,1000));// Wait 1 second for DB sync\nawait fetchAllData();setTimeout(()=>setSuccess(null),3000);}catch(err){console.error('Error adding instructor:',err);setError(\"\\u274C Error: \".concat(err.message));setTimeout(()=>setError(null),5000);}finally{setLoading2(false);}};const handleAddCourse=async()=>{if(!courseForm.course_code||!courseForm.course_title||!courseForm.program){setError('âŒ Please fill in all required fields');return;}try{setLoading2(true);setError(null);const{error}=await supabase.from('courses').insert({course_code:courseForm.course_code,course_title:courseForm.course_title,program:courseForm.program,year_level:courseForm.year_level});if(error){throw new Error(error.message||'Failed to add course');}setSuccess('âœ… Course added successfully!');setShowAddCourseModal(false);setCourseForm({course_code:'',course_title:'',program:'',year_level:''});// Refresh data\nawait fetchAllData();setTimeout(()=>setSuccess(null),3000);}catch(err){console.error('Error adding course:',err);setError(\"\\u274C Error: \".concat(err.message));setTimeout(()=>setError(null),5000);}finally{setLoading2(false);}};const handleDeleteStudent=async studentId=>{if(!window.confirm('Are you sure? This action cannot be undone.'))return;try{const{error}=await supabase.from('users').delete().eq('id',studentId);if(error)throw error;setSuccess('âœ… Student deleted successfully!');fetchAllData();setTimeout(()=>setSuccess(null),3000);}catch(err){console.error('Error deleting student:',err);setError(\"\\u274C Error: \".concat(err.message));}};const handleDeleteInstructor=async instructorId=>{if(!window.confirm('Are you sure? This action cannot be undone.'))return;try{const{error}=await supabase.from('users').delete().eq('id',instructorId);if(error)throw error;setSuccess('âœ… Instructor deleted successfully!');fetchAllData();setTimeout(()=>setSuccess(null),3000);}catch(err){console.error('Error deleting instructor:',err);setError(\"\\u274C Error: \".concat(err.message));}};const handleDeleteCourse=async courseId=>{if(!window.confirm('Are you sure? This action cannot be undone.'))return;try{const{error}=await supabase.from('courses').delete().eq('id',courseId);if(error)throw error;setSuccess('âœ… Course deleted successfully!');fetchAllData();setTimeout(()=>setSuccess(null),3000);}catch(err){console.error('Error deleting course:',err);setError(\"\\u274C Error: \".concat(err.message));}};const handleImportCSV=async()=>{if(!csvFile){setError('âŒ Please select a CSV file');return;}try{setLoading2(true);const text=await csvFile.text();const lines=text.split('\\n').filter(line=>line.trim());if(lines.length<2){setError('âŒ CSV file must have a header row and at least one data row');return;}const headers=lines[0].split(',').map(h=>h.trim().toLowerCase());const importedCourses=[];for(let i=1;i<lines.length;i++){const values=lines[i].split(',').map(v=>v.trim());if(values.length<2)continue;const courseData={course_code:values[0],course_title:values[1],program:values[2]||'',year_level:values[3]||''};importedCourses.push(courseData);}if(importedCourses.length===0){setError('âŒ No valid courses found in CSV');return;}const{error}=await supabase.from('courses').insert(importedCourses);if(error)throw error;setSuccess(\"\\u2705 Successfully imported \".concat(importedCourses.length,\" courses!\"));setShowImportCSVModal(false);setCSVFile(null);await fetchAllData();setTimeout(()=>setSuccess(null),3000);}catch(err){console.error('Error importing CSV:',err);setError(\"\\u274C Error: \".concat(err.message));}finally{setLoading2(false);}};const handleExportReport=async()=>{try{setLoading2(true);const reportData={generatedAt:new Date().toISOString(),stats,totalRecords:attendanceData.length,sessions:recentSessions.map(s=>{var _s$classes,_s$classes$courses;return{id:s.id,date:s.session_date,time:s.start_time,course:((_s$classes=s.classes)===null||_s$classes===void 0?void 0:(_s$classes$courses=_s$classes.courses)===null||_s$classes$courses===void 0?void 0:_s$classes$courses.course_code)||'N/A'};})};const dataStr=JSON.stringify(reportData,null,2);const dataBlob=new Blob([dataStr],{type:'application/json'});const url=URL.createObjectURL(dataBlob);const link=document.createElement('a');link.href=url;link.download=\"attendance-report-\".concat(new Date().toISOString().split('T')[0],\".json\");link.click();setSuccess('âœ… Report exported successfully!');setShowExportModal(false);setTimeout(()=>setSuccess(null),3000);}catch(err){console.error('Error exporting report:',err);setError(\"\\u274C Error: \".concat(err.message));}finally{setLoading2(false);}};const handleLogout=async()=>{try{await supabase.auth.signOut();navigate('/admin');}catch(err){console.error('Error logging out:',err);setError('âŒ Failed to logout');}};if(loading||loading2){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block animate-spin rounded-full h-12 w-12 border border-gray-300 border-t-blue-900 mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Loading...\"})]})});}if(!currentUser||userRole!=='admin')return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-screen overflow-hidden bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"w-72 bg-gradient-to-b from-slate-900 to-slate-800 flex flex-col shrink-0 border-r border-slate-700/50 shadow-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-slate-700/50 bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"size-12 rounded-lg bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white shadow-md\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-2xl font-bold\",children:\"dashboard\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold text-lg text-white leading-tight\",children:\"ICT Admin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-blue-200/80 mt-0.5 font-semibold uppercase\",children:\"University Portal\"})]})]})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"flex-1 overflow-y-auto px-4 py-6 space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/admin/dashboard',className:\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg bg-blue-600/20 text-white font-semibold hover:bg-blue-600/30 transition-all duration-200 group shadow-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-lg group-hover:scale-110 transition-transform duration-200\",children:\"dashboard\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Dashboard\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/admin/students',className:\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-200 hover:bg-slate-700/50 transition-all duration-200 group font-medium\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-lg text-blue-300 group-hover:text-blue-200 transition-colors\",children:\"school\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Student Management\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/admin/delegates',className:\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-200 hover:bg-slate-700/50 transition-all duration-200 group font-medium\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-lg text-purple-300 group-hover:text-purple-200 transition-colors\",children:\"assignment_ind\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Instructor Management\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/admin/classes',className:\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-200 hover:bg-slate-700/50 transition-all duration-200 group font-medium\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-lg text-emerald-300 group-hover:text-emerald-200 transition-colors\",children:\"class\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Courses & Classes\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/admin/sessions',className:\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-200 hover:bg-slate-700/50 transition-all duration-200 group font-medium\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-lg text-amber-300 group-hover:text-amber-200 transition-colors\",children:\"event_available\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Session Management\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/admin/reports',className:\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-200 hover:bg-slate-700/50 transition-all duration-200 group font-medium\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-lg text-orange-300 group-hover:text-orange-200 transition-colors\",children:\"assessment\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Attendance Reports\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-slate-700/50 pt-4 mt-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"px-3 text-xs font-bold text-slate-400 uppercase tracking-wider mb-3\",children:\"Administration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/admin/logs',className:\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-200 hover:bg-slate-700/50 transition-all duration-200 group font-medium\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-lg text-cyan-300 group-hover:text-cyan-200 transition-colors\",children:\"terminal\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Activity Logs\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/admin/settings',className:\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-200 hover:bg-slate-700/50 transition-all duration-200 group font-medium\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-lg text-slate-400 group-hover:text-slate-300 transition-colors\",children:\"settings\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"System Settings\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t border-slate-700/50 bg-slate-800/50\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg bg-red-600/20 text-red-300 hover:bg-red-600/30 hover:text-red-200 transition-all duration-200 font-semibold group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-lg group-hover:scale-110 transition-transform duration-200\",children:\"logout\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Sign Out\"})]})})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"flex-1 overflow-y-auto flex flex-col\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"sticky top-0 z-30 bg-white border-b border-gray-200 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-8 py-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Admin Dashboard Overview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-0.5\",children:\"Welcome back, University Administrator\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"relative size-10 flex items-center justify-center rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors duration-200 group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined group-hover:scale-110 transition-transform\",children:\"notifications\"}),notifications>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute top-1 right-1 size-2.5 bg-red-500 rounded-full border-2 border-white shadow-sm\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-6 w-px bg-gray-300\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold text-gray-900\",children:\"University Admin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"System Administrator\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"size-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-sm shadow-md\",children:\"AD\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 max-w-7xl mx-auto\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-red-50 border-l-4 border-red-500 rounded text-red-800 text-sm font-medium\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-green-50 border-l-4 border-green-500 rounded text-green-800 text-sm font-medium\",children:success}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border border-gray-200 p-5 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-4 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center justify-center size-12 rounded-lg bg-blue-100 text-blue-600 flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"group\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2\",children:\"Total Students\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-gray-900 mb-1\",children:stats.totalStudents}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Active accounts in system\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border border-gray-200 p-5 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-4 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center justify-center size-12 rounded-lg bg-purple-100 text-purple-600 flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"assignment_ind\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2\",children:\"Total Delegates\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-gray-900 mb-1\",children:stats.totalInstructors}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Instructors and faculty\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border border-gray-200 p-5 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-4 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center justify-center size-12 rounded-lg bg-emerald-100 text-emerald-600 flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"school\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2\",children:\"Total Courses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-gray-900 mb-1\",children:stats.totalCourses}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Courses available\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border border-gray-200 p-5 shadow-sm hover:shadow-md transition-shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-4 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center justify-center size-12 rounded-lg bg-orange-100 text-orange-600 flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",children:\"event_available\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2\",children:\"Sessions Today\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-4xl font-bold text-gray-900 mb-1\",children:stats.totalSessions}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Scheduled sessions\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2 bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-gray-200 p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-1\",children:\"Attendance Overview\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:\"Visual attendance analytics and historical trends\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleExportReport,className:\"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors font-medium text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-base\",children:\"download\"}),\"Export Report\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-12 flex flex-col items-center justify-center text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center justify-center size-20 rounded-full bg-gray-100 mb-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-gray-400 text-5xl\",children:\"analytics\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 font-semibold text-lg mb-2\",children:\"No attendance data available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm max-w-xs\",children:\"Historical attendance trends will appear here once sessions start and attendance records are collected.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border border-gray-200 shadow-sm p-6 h-fit\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-6\",children:\"Quick Actions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddStudentModal(true),className:\"w-full flex items-center gap-3 p-4 rounded-lg border border-gray-200 bg-white hover:bg-blue-50 hover:border-blue-300 transition-all group text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"size-10 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-600 group-hover:text-white transition-colors\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-lg\",children:\"person_add\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold text-gray-900\",children:\"Enroll Student\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Add new account\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddSessionModal(true),className:\"w-full flex items-center gap-3 p-4 rounded-lg border border-gray-200 bg-white hover:bg-blue-50 hover:border-blue-300 transition-all group text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"size-10 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-600 group-hover:text-white transition-colors\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-lg\",children:\"add_task\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold text-gray-900\",children:\"Create Session\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Schedule attendance\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowImportCSVModal(true),className:\"w-full flex items-center gap-3 p-4 rounded-lg border border-gray-200 bg-white hover:bg-blue-50 hover:border-blue-300 transition-all group text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"size-10 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-600 group-hover:text-white transition-colors\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-lg\",children:\"upload_file\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold text-gray-900\",children:\"Import CSV\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:\"Batch upload courses\"})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-1\",children:\"Recent Attendance Sessions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Latest sessions from all campus activities\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>window.location.href='/admin/sessions',className:\"inline-flex items-center gap-2 px-4 py-2 text-blue-600 hover:text-blue-700 font-semibold text-sm group\",children:[\"View All\",/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-lg group-hover:translate-x-1 transition-transform\",children:\"arrow_forward\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:recentSessions.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-50 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wide\",children:\"Session ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wide\",children:\"Course Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wide\",children:\"Course Code\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wide\",children:\"Start Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wide\",children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-gray-200\",children:recentSessions.slice(0,5).map(session=>{var _session$classes,_session$classes$cour,_session$classes2,_session$classes2$cou;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 transition-colors\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm font-semibold text-gray-900\",children:session.id.substring(0,8).toUpperCase()}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-700\",children:((_session$classes=session.classes)===null||_session$classes===void 0?void 0:(_session$classes$cour=_session$classes.courses)===null||_session$classes$cour===void 0?void 0:_session$classes$cour.course_title)||'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm font-mono text-gray-700\",children:((_session$classes2=session.classes)===null||_session$classes2===void 0?void 0:(_session$classes2$cou=_session$classes2.courses)===null||_session$classes2$cou===void 0?void 0:_session$classes2$cou.course_code)||'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-700\",children:session.start_time||'N/A'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center gap-1.5 px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"size-2 rounded-full bg-green-600\"}),\"Active\"]})})]},session.id);})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center justify-center size-16 rounded-full bg-gray-100 mb-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined text-gray-400 text-3xl\",children:\"inbox\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 font-semibold mb-1\",children:\"No sessions found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Start a session to see attendance data here\"})]})})]})]})})]})]}),/*#__PURE__*/_jsx(Modal,{isOpen:showAddStudentModal,title:\"Add New Student\",onClose:()=>setShowAddStudentModal(false),size:\"md\",footer:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddStudentModal(false),className:\"px-4 py-2 border border-gray-300 rounded text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddStudent,className:\"px-4 py-2 bg-[#135bec] text-white rounded text-sm font-medium hover:bg-blue-700\",children:\"Add Student\"})]}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Full Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:studentForm.name,onChange:e=>setStudentForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),placeholder:\"Enter full name\",className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Matricule *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:studentForm.matricule,onChange:e=>setStudentForm(prev=>_objectSpread(_objectSpread({},prev),{},{matricule:e.target.value})),placeholder:\"Enter matricule\",className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:studentForm.email,onChange:e=>setStudentForm(prev=>_objectSpread(_objectSpread({},prev),{},{email:e.target.value})),placeholder:\"student@ictuniversity.edu.cm\",className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Password (min 8 characters) *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showStudentPassword?'text':'password',value:studentForm.password,onChange:e=>setStudentForm(prev=>_objectSpread(_objectSpread({},prev),{},{password:e.target.value})),placeholder:\"Enter secure password\",className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec] pr-10\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowStudentPassword(!showStudentPassword),className:\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700\",children:showStudentPassword?'ðŸ‘ï¸':'ðŸ‘ï¸â€ðŸ—¨ï¸'})]})]})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:showAddInstructorModal,title:\"Add New Instructor\",onClose:()=>setShowAddInstructorModal(false),size:\"md\",footer:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddInstructorModal(false),className:\"px-4 py-2 border border-gray-300 rounded text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddInstructor,className:\"px-4 py-2 bg-[#135bec] text-white rounded text-sm font-medium hover:bg-blue-700\",children:\"Add Instructor\"})]}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Full Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:instructorForm.name,onChange:e=>setInstructorForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),placeholder:\"Enter full name\",className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Matricule *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:instructorForm.matricule,onChange:e=>setInstructorForm(prev=>_objectSpread(_objectSpread({},prev),{},{matricule:e.target.value})),placeholder:\"Enter matricule\",className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:instructorForm.email,onChange:e=>setInstructorForm(prev=>_objectSpread(_objectSpread({},prev),{},{email:e.target.value})),placeholder:\"instructor@ictuniversity.edu.cm\",className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Password (min 8 characters) *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:showInstructorPassword?'text':'password',value:instructorForm.password,onChange:e=>setInstructorForm(prev=>_objectSpread(_objectSpread({},prev),{},{password:e.target.value})),placeholder:\"Enter secure password\",className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec] pr-10\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowInstructorPassword(!showInstructorPassword),className:\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700\",children:showInstructorPassword?'ðŸ‘ï¸':'ðŸ‘ï¸â€ðŸ—¨ï¸'})]})]})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:showAddCourseModal,title:\"Add New Course\",onClose:()=>setShowAddCourseModal(false),size:\"md\",footer:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddCourseModal(false),className:\"px-4 py-2 border border-gray-300 rounded text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddCourse,className:\"px-4 py-2 bg-[#135bec] text-white rounded text-sm font-medium hover:bg-blue-700\",children:\"Add Course\"})]}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Course Code *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:courseForm.course_code,onChange:e=>setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{course_code:e.target.value})),placeholder:\"e.g., ICT101\",className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Course Title *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:courseForm.course_title,onChange:e=>setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{course_title:e.target.value})),placeholder:\"Enter course title\",className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Program *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:courseForm.program,onChange:e=>setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{program:e.target.value})),placeholder:\"e.g., BSc. Computer Science\",className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Year Level\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:courseForm.year_level,onChange:e=>setCourseForm(prev=>_objectSpread(_objectSpread({},prev),{},{year_level:e.target.value})),placeholder:\"e.g., Year 1\",className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:showAddSessionModal,title:\"Create New Session\",onClose:()=>setShowAddSessionModal(false),size:\"md\",footer:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddSessionModal(false),className:\"px-4 py-2 border border-gray-300 rounded text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSuccess('âœ… Session created successfully!');setShowAddSessionModal(false);setTimeout(()=>setSuccess(null),3000);},className:\"px-4 py-2 bg-[#135bec] text-white rounded text-sm font-medium hover:bg-blue-700\",children:\"Create Session\"})]}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Session Date *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:sessionForm.session_date,onChange:e=>setSessionForm(prev=>_objectSpread(_objectSpread({},prev),{},{session_date:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Start Time *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:sessionForm.start_time,onChange:e=>setSessionForm(prev=>_objectSpread(_objectSpread({},prev),{},{start_time:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"End Time *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",value:sessionForm.end_time,onChange:e=>setSessionForm(prev=>_objectSpread(_objectSpread({},prev),{},{end_time:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Venue *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:sessionForm.venue,onChange:e=>setSessionForm(prev=>_objectSpread(_objectSpread({},prev),{},{venue:e.target.value})),placeholder:\"Enter venue\",className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:showImportCSVModal,title:\"Import CSV Data\",onClose:()=>setShowImportCSVModal(false),size:\"md\",footer:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowImportCSVModal(false),className:\"px-4 py-2 border border-gray-300 rounded text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleImportCSV,className:\"px-4 py-2 bg-[#135bec] text-white rounded text-sm font-medium hover:bg-blue-700\",children:\"Import\"})]}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-900 mb-2\",children:\"Select CSV File *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".csv\",onChange:e=>{var _e$target$files;return setCSVFile(((_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0])||null);},className:\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-blue-50 rounded border border-blue-200\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-blue-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"CSV Format:\"}),\" course_code, course_title, program, year_level\"]})})]})}),/*#__PURE__*/_jsx(Modal,{isOpen:showExportModal,title:\"Export Attendance Report\",onClose:()=>setShowExportModal(false),size:\"md\",footer:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowExportModal(false),className:\"px-4 py-2 border border-gray-300 rounded text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleExportReport,className:\"px-4 py-2 bg-[#135bec] text-white rounded text-sm font-medium hover:bg-blue-700\",children:\"Export\"})]}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Export attendance data and statistics for \",new Date().toLocaleDateString()]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-green-50 rounded border border-green-200\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-green-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Report includes:\"}),\" Total sessions, attendance records, and system statistics\"]})})]})})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","supabase","useAuth","Modal","Alert","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminDashboard","currentUser","userRole","loading","navigate","stats","setStats","totalStudents","totalInstructors","totalCourses","totalSessions","todayAttendance","students","setStudents","instructors","setInstructors","courses","setCourses","sessions","setSessions","attendanceData","setAttendanceData","recentSessions","setRecentSessions","showAddStudentModal","setShowAddStudentModal","showAddInstructorModal","setShowAddInstructorModal","showAddCourseModal","setShowAddCourseModal","showAddSessionModal","setShowAddSessionModal","showImportCSVModal","setShowImportCSVModal","showExportModal","setShowExportModal","studentForm","setStudentForm","name","matricule","email","password","instructorForm","setInstructorForm","courseForm","setCourseForm","course_code","course_title","program","year_level","sessionForm","setSessionForm","session_date","start_time","end_time","class_id","venue","csvFile","setCSVFile","loading2","setLoading2","error","setError","success","setSuccess","showStudentPassword","setShowStudentPassword","showInstructorPassword","setShowInstructorPassword","notifications","setNotifications","fetchAllData","_studentsDataRes$data","_instructorsDataRes$d","studentsRes","instructorsRes","coursesRes","sessionsRes","attendanceRes","Promise","all","from","select","count","eq","gte","Date","toISOString","split","console","log","studentsDataRes","instructorsDataRes","coursesDataRes","sessionsDataRes","attendanceDataRes","order","ascending","limit","data","length","err","handleAddStudent","authData","authError","auth","signUp","options","role","Error","message","user","userError","insert","id","resolve","setTimeout","concat","handleAddInstructor","handleAddCourse","handleDeleteStudent","studentId","window","confirm","delete","handleDeleteInstructor","instructorId","handleDeleteCourse","courseId","handleImportCSV","text","lines","filter","line","trim","headers","map","h","toLowerCase","importedCourses","i","values","v","courseData","push","handleExportReport","reportData","generatedAt","totalRecords","s","_s$classes","_s$classes$courses","date","time","course","classes","dataStr","JSON","stringify","dataBlob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","click","handleLogout","signOut","className","children","onClick","location","slice","session","_session$classes","_session$classes$cour","_session$classes2","_session$classes2$cou","substring","toUpperCase","isOpen","title","onClose","size","footer","value","onChange","e","prev","_objectSpread","target","placeholder","accept","_e$target$files","files","toLocaleDateString"],"sources":["C:/Users/PFI/Desktop/ATTENDANCE/ATTENDANCE/src/pages/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { supabase } from '../supabase/supabase';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport Modal from '../components/Modal';\r\nimport Alert from '../components/Alert';\r\n\r\nconst AdminDashboard = () => {\r\n  const { currentUser, userRole, loading } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  // State\r\n  const [stats, setStats] = useState({\r\n    totalStudents: 0,\r\n    totalInstructors: 0,\r\n    totalCourses: 0,\r\n    totalSessions: 0,\r\n    todayAttendance: 0\r\n  });\r\n\r\n  const [students, setStudents] = useState([]);\r\n  const [instructors, setInstructors] = useState([]);\r\n  const [courses, setCourses] = useState([]);\r\n  const [sessions, setSessions] = useState([]);\r\n  const [attendanceData, setAttendanceData] = useState([]);\r\n  const [recentSessions, setRecentSessions] = useState([]);\r\n\r\n  // Modals\r\n  const [showAddStudentModal, setShowAddStudentModal] = useState(false);\r\n  const [showAddInstructorModal, setShowAddInstructorModal] = useState(false);\r\n  const [showAddCourseModal, setShowAddCourseModal] = useState(false);\r\n  const [showAddSessionModal, setShowAddSessionModal] = useState(false);\r\n  const [showImportCSVModal, setShowImportCSVModal] = useState(false);\r\n  const [showExportModal, setShowExportModal] = useState(false);\r\n\r\n  // Form states\r\n  const [studentForm, setStudentForm] = useState({\r\n    name: '',\r\n    matricule: '',\r\n    email: '',\r\n    password: ''\r\n  });\r\n\r\n  const [instructorForm, setInstructorForm] = useState({\r\n    name: '',\r\n    matricule: '',\r\n    email: '',\r\n    password: ''\r\n  });\r\n\r\n  const [courseForm, setCourseForm] = useState({\r\n    course_code: '',\r\n    course_title: '',\r\n    program: '',\r\n    year_level: ''\r\n  });\r\n\r\n  const [sessionForm, setSessionForm] = useState({\r\n    session_date: '',\r\n    start_time: '',\r\n    end_time: '',\r\n    class_id: '',\r\n    venue: ''\r\n  });\r\n\r\n  const [csvFile, setCSVFile] = useState(null);\r\n\r\n  // UI states\r\n  const [loading2, setLoading2] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n  const [showStudentPassword, setShowStudentPassword] = useState(false);\r\n  const [showInstructorPassword, setShowInstructorPassword] = useState(false);\r\n  const [notifications, setNotifications] = useState(1);\r\n\r\n  useEffect(() => {\r\n    if (loading) return;\r\n\r\n    if (!currentUser || userRole !== 'admin') {\r\n      navigate('/admin');\r\n      return;\r\n    }\r\n\r\n    fetchAllData();\r\n  }, [currentUser, userRole, loading, navigate]);\r\n\r\n  const fetchAllData = async () => {\r\n    try {\r\n      setLoading2(true);\r\n      setError(null);\r\n\r\n      // Fetch stats\r\n      const [studentsRes, instructorsRes, coursesRes, sessionsRes, attendanceRes] = await Promise.all([\r\n        supabase.from('users').select('id', { count: 'exact' }).eq('role', 'student'),\r\n        supabase.from('users').select('id', { count: 'exact' }).eq('role', 'delegate'),\r\n        supabase.from('courses').select('id', { count: 'exact' }),\r\n        supabase.from('sessions').select('id', { count: 'exact' }),\r\n        supabase\r\n          .from('attendance')\r\n          .select('id', { count: 'exact' })\r\n          .gte('created_at', new Date().toISOString().split('T')[0])\r\n      ]);\r\n\r\n      console.log('ðŸ“Š Fetch stats - Students:', studentsRes.count, 'Instructors:', instructorsRes.count);\r\n\r\n      setStats({\r\n        totalStudents: studentsRes.count || 0,\r\n        totalInstructors: instructorsRes.count || 0,\r\n        totalCourses: coursesRes.count || 0,\r\n        totalSessions: sessionsRes.count || 0,\r\n        todayAttendance: attendanceRes.count || 0\r\n      });\r\n\r\n      // Fetch detailed data\r\n      const [studentsDataRes, instructorsDataRes, coursesDataRes, sessionsDataRes, attendanceDataRes] = await Promise.all([\r\n        supabase\r\n          .from('users')\r\n          .select('*')\r\n          .eq('role', 'student')\r\n          .order('created_at', { ascending: false }),\r\n        supabase\r\n          .from('users')\r\n          .select('*')\r\n          .eq('role', 'delegate')\r\n          .order('created_at', { ascending: false }),\r\n        supabase\r\n          .from('courses')\r\n          .select('*')\r\n          .order('course_code', { ascending: true }),\r\n        supabase\r\n          .from('sessions')\r\n          .select(`\r\n            *,\r\n            classes (\r\n              class_name,\r\n              courses (\r\n                course_code,\r\n                course_title\r\n              )\r\n            )\r\n          `)\r\n          .order('session_date', { ascending: false })\r\n          .limit(10),\r\n        supabase\r\n          .from('attendance')\r\n          .select(`\r\n            *,\r\n            users (id, name, matricule),\r\n            sessions (\r\n              session_date,\r\n              start_time,\r\n              end_time,\r\n              classes (\r\n                courses (\r\n                  course_code,\r\n                  course_title\r\n                )\r\n              )\r\n            )\r\n          `)\r\n          .order('created_at', { ascending: false })\r\n          .limit(100)\r\n      ]);\r\n\r\n      console.log('ðŸ“‹ Detailed data - Students:', studentsDataRes.data?.length, 'Instructors:', instructorsDataRes.data?.length);\r\n\r\n      if (studentsDataRes.error) console.error('Students fetch error:', studentsDataRes.error);\r\n      if (instructorsDataRes.error) console.error('Instructors fetch error:', instructorsDataRes.error);\r\n\r\n      setStudents(studentsDataRes.data || []);\r\n      setInstructors(instructorsDataRes.data || []);\r\n      setCourses(coursesDataRes.data || []);\r\n      setSessions(sessionsDataRes.data || []);\r\n      setRecentSessions(sessionsDataRes.data || []);\r\n      setAttendanceData(attendanceDataRes.data || []);\r\n    } catch (err) {\r\n      console.error('âŒ Error fetching data:', err);\r\n      setError('Failed to load dashboard data');\r\n    } finally {\r\n      setLoading2(false);\r\n    }\r\n  };\r\n\r\n  const handleAddStudent = async () => {\r\n    if (!studentForm.name || !studentForm.matricule || !studentForm.email || !studentForm.password) {\r\n      setError('âŒ Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading2(true);\r\n      setError(null);\r\n\r\n      // Step 1: Create auth user\r\n      const { data: authData, error: authError } = await supabase.auth.signUp({\r\n        email: studentForm.email,\r\n        password: studentForm.password,\r\n        options: {\r\n          data: {\r\n            role: 'student'\r\n          }\r\n        }\r\n      });\r\n\r\n      if (authError) {\r\n        throw new Error(authError.message || 'Failed to create auth user');\r\n      }\r\n\r\n      if (!authData.user) {\r\n        throw new Error('No user data returned from auth signup');\r\n      }\r\n\r\n      // Step 2: Insert into users table with RLS bypass using service role\r\n      const { error: userError } = await supabase\r\n        .from('users')\r\n        .insert([{\r\n          id: authData.user.id,\r\n          name: studentForm.name,\r\n          matricule: studentForm.matricule,\r\n          email: studentForm.email,\r\n          role: 'student'\r\n        }]);\r\n\r\n      if (userError) {\r\n        console.error('User insert error details:', userError);\r\n        throw new Error(userError.message || 'Failed to create user record in database');\r\n      }\r\n\r\n      setSuccess('âœ… Student added successfully!');\r\n      setShowAddStudentModal(false);\r\n      setStudentForm({ name: '', matricule: '', email: '', password: '' });\r\n      setShowStudentPassword(false);\r\n      \r\n      // Refresh data\r\n      await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1 second for DB sync\r\n      await fetchAllData();\r\n      \r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      console.error('Error adding student:', err);\r\n      setError(`âŒ Error: ${err.message}`);\r\n      setTimeout(() => setError(null), 5000);\r\n    } finally {\r\n      setLoading2(false);\r\n    }\r\n  };\r\n\r\n  const handleAddInstructor = async () => {\r\n    if (!instructorForm.name || !instructorForm.matricule || !instructorForm.email || !instructorForm.password) {\r\n      setError('âŒ Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading2(true);\r\n      setError(null);\r\n\r\n      // Step 1: Create auth user\r\n      const { data: authData, error: authError } = await supabase.auth.signUp({\r\n        email: instructorForm.email,\r\n        password: instructorForm.password,\r\n        options: {\r\n          data: {\r\n            role: 'delegate'\r\n          }\r\n        }\r\n      });\r\n\r\n      if (authError) {\r\n        throw new Error(authError.message || 'Failed to create auth user');\r\n      }\r\n\r\n      if (!authData.user) {\r\n        throw new Error('No user data returned from auth signup');\r\n      }\r\n\r\n      // Step 2: Insert into users table\r\n      const { error: userError } = await supabase\r\n        .from('users')\r\n        .insert([{\r\n          id: authData.user.id,\r\n          name: instructorForm.name,\r\n          matricule: instructorForm.matricule,\r\n          email: instructorForm.email,\r\n          role: 'delegate'\r\n        }]);\r\n\r\n      if (userError) {\r\n        console.error('User insert error details:', userError);\r\n        throw new Error(userError.message || 'Failed to create user record in database');\r\n      }\r\n\r\n      setSuccess('âœ… Instructor added successfully!');\r\n      setShowAddInstructorModal(false);\r\n      setInstructorForm({ name: '', matricule: '', email: '', password: '' });\r\n      setShowInstructorPassword(false);\r\n      \r\n      // Refresh data\r\n      await new Promise(resolve => setTimeout(resolve, 1000)); // Wait 1 second for DB sync\r\n      await fetchAllData();\r\n      \r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      console.error('Error adding instructor:', err);\r\n      setError(`âŒ Error: ${err.message}`);\r\n      setTimeout(() => setError(null), 5000);\r\n    } finally {\r\n      setLoading2(false);\r\n    }\r\n  };\r\n\r\n  const handleAddCourse = async () => {\r\n    if (!courseForm.course_code || !courseForm.course_title || !courseForm.program) {\r\n      setError('âŒ Please fill in all required fields');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading2(true);\r\n      setError(null);\r\n\r\n      const { error } = await supabase\r\n        .from('courses')\r\n        .insert({\r\n          course_code: courseForm.course_code,\r\n          course_title: courseForm.course_title,\r\n          program: courseForm.program,\r\n          year_level: courseForm.year_level\r\n        });\r\n\r\n      if (error) {\r\n        throw new Error(error.message || 'Failed to add course');\r\n      }\r\n\r\n      setSuccess('âœ… Course added successfully!');\r\n      setShowAddCourseModal(false);\r\n      setCourseForm({ course_code: '', course_title: '', program: '', year_level: '' });\r\n      \r\n      // Refresh data\r\n      await fetchAllData();\r\n      \r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      console.error('Error adding course:', err);\r\n      setError(`âŒ Error: ${err.message}`);\r\n      setTimeout(() => setError(null), 5000);\r\n    } finally {\r\n      setLoading2(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteStudent = async (studentId) => {\r\n    if (!window.confirm('Are you sure? This action cannot be undone.')) return;\r\n\r\n    try {\r\n      const { error } = await supabase\r\n        .from('users')\r\n        .delete()\r\n        .eq('id', studentId);\r\n\r\n      if (error) throw error;\r\n\r\n      setSuccess('âœ… Student deleted successfully!');\r\n      fetchAllData();\r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      console.error('Error deleting student:', err);\r\n      setError(`âŒ Error: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleDeleteInstructor = async (instructorId) => {\r\n    if (!window.confirm('Are you sure? This action cannot be undone.')) return;\r\n\r\n    try {\r\n      const { error } = await supabase\r\n        .from('users')\r\n        .delete()\r\n        .eq('id', instructorId);\r\n\r\n      if (error) throw error;\r\n\r\n      setSuccess('âœ… Instructor deleted successfully!');\r\n      fetchAllData();\r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      console.error('Error deleting instructor:', err);\r\n      setError(`âŒ Error: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleDeleteCourse = async (courseId) => {\r\n    if (!window.confirm('Are you sure? This action cannot be undone.')) return;\r\n\r\n    try {\r\n      const { error } = await supabase\r\n        .from('courses')\r\n        .delete()\r\n        .eq('id', courseId);\r\n\r\n      if (error) throw error;\r\n\r\n      setSuccess('âœ… Course deleted successfully!');\r\n      fetchAllData();\r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      console.error('Error deleting course:', err);\r\n      setError(`âŒ Error: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleImportCSV = async () => {\r\n    if (!csvFile) {\r\n      setError('âŒ Please select a CSV file');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading2(true);\r\n      const text = await csvFile.text();\r\n      const lines = text.split('\\n').filter(line => line.trim());\r\n      \r\n      if (lines.length < 2) {\r\n        setError('âŒ CSV file must have a header row and at least one data row');\r\n        return;\r\n      }\r\n\r\n      const headers = lines[0].split(',').map(h => h.trim().toLowerCase());\r\n      const importedCourses = [];\r\n\r\n      for (let i = 1; i < lines.length; i++) {\r\n        const values = lines[i].split(',').map(v => v.trim());\r\n        if (values.length < 2) continue;\r\n\r\n        const courseData = {\r\n          course_code: values[0],\r\n          course_title: values[1],\r\n          program: values[2] || '',\r\n          year_level: values[3] || ''\r\n        };\r\n\r\n        importedCourses.push(courseData);\r\n      }\r\n\r\n      if (importedCourses.length === 0) {\r\n        setError('âŒ No valid courses found in CSV');\r\n        return;\r\n      }\r\n\r\n      const { error } = await supabase\r\n        .from('courses')\r\n        .insert(importedCourses);\r\n\r\n      if (error) throw error;\r\n\r\n      setSuccess(`âœ… Successfully imported ${importedCourses.length} courses!`);\r\n      setShowImportCSVModal(false);\r\n      setCSVFile(null);\r\n      await fetchAllData();\r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      console.error('Error importing CSV:', err);\r\n      setError(`âŒ Error: ${err.message}`);\r\n    } finally {\r\n      setLoading2(false);\r\n    }\r\n  };\r\n\r\n  const handleExportReport = async () => {\r\n    try {\r\n      setLoading2(true);\r\n      \r\n      const reportData = {\r\n        generatedAt: new Date().toISOString(),\r\n        stats,\r\n        totalRecords: attendanceData.length,\r\n        sessions: recentSessions.map(s => ({\r\n          id: s.id,\r\n          date: s.session_date,\r\n          time: s.start_time,\r\n          course: s.classes?.courses?.course_code || 'N/A'\r\n        }))\r\n      };\r\n\r\n      const dataStr = JSON.stringify(reportData, null, 2);\r\n      const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n      const url = URL.createObjectURL(dataBlob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `attendance-report-${new Date().toISOString().split('T')[0]}.json`;\r\n      link.click();\r\n\r\n      setSuccess('âœ… Report exported successfully!');\r\n      setShowExportModal(false);\r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      console.error('Error exporting report:', err);\r\n      setError(`âŒ Error: ${err.message}`);\r\n    } finally {\r\n      setLoading2(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await supabase.auth.signOut();\r\n      navigate('/admin');\r\n    } catch (err) {\r\n      console.error('Error logging out:', err);\r\n      setError('âŒ Failed to logout');\r\n    }\r\n  };\r\n\r\n  if (loading || loading2) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-screen bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block animate-spin rounded-full h-12 w-12 border border-gray-300 border-t-blue-900 mb-4\" />\r\n          <p className=\"text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!currentUser || userRole !== 'admin') return null;\r\n\r\n  return (\r\n    <>\r\n      {/* Main Layout: Sidebar + Main Content */}\r\n      <div className=\"flex h-screen overflow-hidden bg-gray-50\">\r\n        \r\n        {/* ============================================\r\n            SIDEBAR - Navigation & User Info\r\n            ============================================ */}\r\n        <aside className=\"w-72 bg-gradient-to-b from-slate-900 to-slate-800 flex flex-col shrink-0 border-r border-slate-700/50 shadow-lg\">\r\n        {/* Header */}\r\n        <div className=\"p-6 border-b border-slate-700/50 bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900\">\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <div className=\"size-12 rounded-lg bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white shadow-md\">\r\n              <span className=\"material-symbols-outlined text-2xl font-bold\">dashboard</span>\r\n            </div>\r\n            <div>\r\n              <h1 className=\"font-bold text-lg text-white leading-tight\">ICT Admin</h1>\r\n              <p className=\"text-xs text-blue-200/80 mt-0.5 font-semibold uppercase\">University Portal</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Navigation Menu */}\r\n        <nav className=\"flex-1 overflow-y-auto px-4 py-6 space-y-1\">\r\n          \r\n          {/* Primary Navigation */}\r\n          <div className=\"space-y-1\">\r\n            {/* Dashboard */}\r\n            <button\r\n              onClick={() => window.location.href = '/admin/dashboard'}\r\n              className=\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg bg-blue-600/20 text-white font-semibold hover:bg-blue-600/30 transition-all duration-200 group shadow-sm\"\r\n            >\r\n              <span className=\"material-symbols-outlined text-lg group-hover:scale-110 transition-transform duration-200\">dashboard</span>\r\n              <span className=\"text-sm\">Dashboard</span>\r\n            </button>\r\n            \r\n            {/* Students */}\r\n            <button\r\n              onClick={() => window.location.href = '/admin/students'}\r\n              className=\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-200 hover:bg-slate-700/50 transition-all duration-200 group font-medium\"\r\n            >\r\n              <span className=\"material-symbols-outlined text-lg text-blue-300 group-hover:text-blue-200 transition-colors\">school</span>\r\n              <span className=\"text-sm\">Student Management</span>\r\n            </button>\r\n            \r\n            {/* Delegates/Instructors */}\r\n            <button\r\n              onClick={() => window.location.href = '/admin/delegates'}\r\n              className=\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-200 hover:bg-slate-700/50 transition-all duration-200 group font-medium\"\r\n            >\r\n              <span className=\"material-symbols-outlined text-lg text-purple-300 group-hover:text-purple-200 transition-colors\">assignment_ind</span>\r\n              <span className=\"text-sm\">Instructor Management</span>\r\n            </button>\r\n            \r\n            {/* Classes & Courses */}\r\n            <button\r\n              onClick={() => window.location.href = '/admin/classes'}\r\n              className=\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-200 hover:bg-slate-700/50 transition-all duration-200 group font-medium\"\r\n            >\r\n              <span className=\"material-symbols-outlined text-lg text-emerald-300 group-hover:text-emerald-200 transition-colors\">class</span>\r\n              <span className=\"text-sm\">Courses & Classes</span>\r\n            </button>\r\n            \r\n            {/* Sessions */}\r\n            <button\r\n              onClick={() => window.location.href = '/admin/sessions'}\r\n              className=\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-200 hover:bg-slate-700/50 transition-all duration-200 group font-medium\"\r\n            >\r\n              <span className=\"material-symbols-outlined text-lg text-amber-300 group-hover:text-amber-200 transition-colors\">event_available</span>\r\n              <span className=\"text-sm\">Session Management</span>\r\n            </button>\r\n            \r\n            {/* Reports */}\r\n            <button\r\n              onClick={() => window.location.href = '/admin/reports'}\r\n              className=\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-200 hover:bg-slate-700/50 transition-all duration-200 group font-medium\"\r\n            >\r\n              <span className=\"material-symbols-outlined text-lg text-orange-300 group-hover:text-orange-200 transition-colors\">assessment</span>\r\n              <span className=\"text-sm\">Attendance Reports</span>\r\n            </button>\r\n          </div>\r\n          \r\n          {/* System Section */}\r\n          <div className=\"border-t border-slate-700/50 pt-4 mt-4\">\r\n            <p className=\"px-3 text-xs font-bold text-slate-400 uppercase tracking-wider mb-3\">Administration</p>\r\n            <div className=\"space-y-1\">\r\n              {/* System Logs */}\r\n              <button\r\n                onClick={() => window.location.href = '/admin/logs'}\r\n                className=\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-200 hover:bg-slate-700/50 transition-all duration-200 group font-medium\"\r\n              >\r\n                <span className=\"material-symbols-outlined text-lg text-cyan-300 group-hover:text-cyan-200 transition-colors\">terminal</span>\r\n                <span className=\"text-sm\">Activity Logs</span>\r\n              </button>\r\n              \r\n              {/* Settings */}\r\n              <button\r\n                onClick={() => window.location.href = '/admin/settings'}\r\n                className=\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-200 hover:bg-slate-700/50 transition-all duration-200 group font-medium\"\r\n              >\r\n                <span className=\"material-symbols-outlined text-lg text-slate-400 group-hover:text-slate-300 transition-colors\">settings</span>\r\n                <span className=\"text-sm\">System Settings</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n        \r\n        {/* Footer - Logout Button */}\r\n        <div className=\"p-4 border-t border-slate-700/50 bg-slate-800/50\">\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg bg-red-600/20 text-red-300 hover:bg-red-600/30 hover:text-red-200 transition-all duration-200 font-semibold group\"\r\n          >\r\n            <span className=\"material-symbols-outlined text-lg group-hover:scale-110 transition-transform duration-200\">logout</span>\r\n            <span className=\"text-sm\">Sign Out</span>\r\n          </button>\r\n        </div>\r\n      </aside>\r\n\r\n      <main className=\"flex-1 overflow-y-auto flex flex-col\">\r\n        \r\n        {/* ============================================\r\n            TOP BAR - Page Title, Notifications, Profile\r\n            ============================================ */}\r\n        <header className=\"sticky top-0 z-30 bg-white border-b border-gray-200 shadow-sm\">\r\n          <div className=\"px-8 py-4 flex items-center justify-between\">\r\n            \r\n            {/* Left: Page Title */}\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900\">Admin Dashboard Overview</h2>\r\n              <p className=\"text-sm text-gray-600 mt-0.5\">Welcome back, University Administrator</p>\r\n            </div>\r\n            \r\n            {/* Right: Notifications + Profile */}\r\n            <div className=\"flex items-center gap-4\">\r\n              {/* Notifications Button */}\r\n              <button className=\"relative size-10 flex items-center justify-center rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors duration-200 group\">\r\n                <span className=\"material-symbols-outlined group-hover:scale-110 transition-transform\">notifications</span>\r\n                {notifications > 0 && (\r\n                  <span className=\"absolute top-1 right-1 size-2.5 bg-red-500 rounded-full border-2 border-white shadow-sm\"></span>\r\n                )}\r\n              </button>\r\n              \r\n              {/* Divider */}\r\n              <div className=\"h-6 w-px bg-gray-300\"></div>\r\n              \r\n              {/* Profile Section */}\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"text-right\">\r\n                  <p className=\"text-sm font-semibold text-gray-900\">University Admin</p>\r\n                  <p className=\"text-xs text-gray-500\">System Administrator</p>\r\n                </div>\r\n                <div className=\"size-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-sm shadow-md\">\r\n                  AD\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        {/* ============================================\r\n            MAIN CONTENT - Dashboard Sections\r\n            ============================================ */}\r\n        <div className=\"flex-1 overflow-y-auto\">\r\n          <div className=\"p-8 max-w-7xl mx-auto\">\r\n            \r\n            {/* Alert Messages */}\r\n            {error && (\r\n              <div className=\"mb-6 p-4 bg-red-50 border-l-4 border-red-500 rounded text-red-800 text-sm font-medium\">\r\n                {error}\r\n              </div>\r\n            )}\r\n            {success && (\r\n              <div className=\"mb-6 p-4 bg-green-50 border-l-4 border-green-500 rounded text-green-800 text-sm font-medium\">\r\n                {success}\r\n              </div>\r\n            )}\r\n\r\n            {/* ============ SUMMARY CARDS ============ */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10\">\r\n              \r\n              {/* Total Students Card */}\r\n              <div className=\"bg-white rounded-lg border border-gray-200 p-5 shadow-sm hover:shadow-md transition-shadow\">\r\n                <div className=\"flex items-center gap-4 mb-4\">\r\n                  <div className=\"inline-flex items-center justify-center size-12 rounded-lg bg-blue-100 text-blue-600 flex-shrink-0\">\r\n                    <span className=\"material-symbols-outlined\">group</span>\r\n                  </div>\r\n                </div>\r\n                <p className=\"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2\">Total Students</p>\r\n                <p className=\"text-4xl font-bold text-gray-900 mb-1\">{stats.totalStudents}</p>\r\n                <p className=\"text-xs text-gray-500\">Active accounts in system</p>\r\n              </div>\r\n\r\n              {/* Total Delegates Card */}\r\n              <div className=\"bg-white rounded-lg border border-gray-200 p-5 shadow-sm hover:shadow-md transition-shadow\">\r\n                <div className=\"flex items-center gap-4 mb-4\">\r\n                  <div className=\"inline-flex items-center justify-center size-12 rounded-lg bg-purple-100 text-purple-600 flex-shrink-0\">\r\n                    <span className=\"material-symbols-outlined\">assignment_ind</span>\r\n                  </div>\r\n                </div>\r\n                <p className=\"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2\">Total Delegates</p>\r\n                <p className=\"text-4xl font-bold text-gray-900 mb-1\">{stats.totalInstructors}</p>\r\n                <p className=\"text-xs text-gray-500\">Instructors and faculty</p>\r\n              </div>\r\n\r\n              {/* Total Courses Card */}\r\n              <div className=\"bg-white rounded-lg border border-gray-200 p-5 shadow-sm hover:shadow-md transition-shadow\">\r\n                <div className=\"flex items-center gap-4 mb-4\">\r\n                  <div className=\"inline-flex items-center justify-center size-12 rounded-lg bg-emerald-100 text-emerald-600 flex-shrink-0\">\r\n                    <span className=\"material-symbols-outlined\">school</span>\r\n                  </div>\r\n                </div>\r\n                <p className=\"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2\">Total Courses</p>\r\n                <p className=\"text-4xl font-bold text-gray-900 mb-1\">{stats.totalCourses}</p>\r\n                <p className=\"text-xs text-gray-500\">Courses available</p>\r\n              </div>\r\n\r\n              {/* Sessions Today Card */}\r\n              <div className=\"bg-white rounded-lg border border-gray-200 p-5 shadow-sm hover:shadow-md transition-shadow\">\r\n                <div className=\"flex items-center gap-4 mb-4\">\r\n                  <div className=\"inline-flex items-center justify-center size-12 rounded-lg bg-orange-100 text-orange-600 flex-shrink-0\">\r\n                    <span className=\"material-symbols-outlined\">event_available</span>\r\n                  </div>\r\n                </div>\r\n                <p className=\"text-xs font-semibold text-gray-600 uppercase tracking-wide mb-2\">Sessions Today</p>\r\n                <p className=\"text-4xl font-bold text-gray-900 mb-1\">{stats.totalSessions}</p>\r\n                <p className=\"text-xs text-gray-500\">Scheduled sessions</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ============ ATTENDANCE OVERVIEW + QUICK ACTIONS ============ */}\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-10\">\r\n              \r\n              {/* Attendance Overview Section */}\r\n              <div className=\"lg:col-span-2 bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden\">\r\n                <div className=\"border-b border-gray-200 p-6\">\r\n                  <h3 className=\"text-lg font-bold text-gray-900 mb-1\">Attendance Overview</h3>\r\n                  <p className=\"text-sm text-gray-600 mb-4\">Visual attendance analytics and historical trends</p>\r\n                  <button\r\n                    onClick={handleExportReport}\r\n                    className=\"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors font-medium text-sm\"\r\n                  >\r\n                    <span className=\"material-symbols-outlined text-base\">download</span>\r\n                    Export Report\r\n                  </button>\r\n                </div>\r\n                \r\n                {/* Empty State */}\r\n                <div className=\"p-12 flex flex-col items-center justify-center text-center\">\r\n                  <div className=\"inline-flex items-center justify-center size-20 rounded-full bg-gray-100 mb-4\">\r\n                    <span className=\"material-symbols-outlined text-gray-400 text-5xl\">analytics</span>\r\n                  </div>\r\n                  <p className=\"text-gray-900 font-semibold text-lg mb-2\">No attendance data available</p>\r\n                  <p className=\"text-gray-600 text-sm max-w-xs\">Historical attendance trends will appear here once sessions start and attendance records are collected.</p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Quick Actions Panel */}\r\n              <div className=\"bg-white rounded-lg border border-gray-200 shadow-sm p-6 h-fit\">\r\n                <h3 className=\"text-lg font-bold text-gray-900 mb-6\">Quick Actions</h3>\r\n                <div className=\"space-y-3\">\r\n                  \r\n                  {/* Enroll Student Button */}\r\n                  <button\r\n                    onClick={() => setShowAddStudentModal(true)}\r\n                    className=\"w-full flex items-center gap-3 p-4 rounded-lg border border-gray-200 bg-white hover:bg-blue-50 hover:border-blue-300 transition-all group text-left\"\r\n                  >\r\n                    <div className=\"size-10 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-600 group-hover:text-white transition-colors\">\r\n                      <span className=\"material-symbols-outlined text-lg\">person_add</span>\r\n                    </div>\r\n                    <div className=\"min-w-0 flex-1\">\r\n                      <p className=\"text-sm font-semibold text-gray-900\">Enroll Student</p>\r\n                      <p className=\"text-xs text-gray-600\">Add new account</p>\r\n                    </div>\r\n                  </button>\r\n\r\n                  {/* Create Session Button */}\r\n                  <button\r\n                    onClick={() => setShowAddSessionModal(true)}\r\n                    className=\"w-full flex items-center gap-3 p-4 rounded-lg border border-gray-200 bg-white hover:bg-blue-50 hover:border-blue-300 transition-all group text-left\"\r\n                  >\r\n                    <div className=\"size-10 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-600 group-hover:text-white transition-colors\">\r\n                      <span className=\"material-symbols-outlined text-lg\">add_task</span>\r\n                    </div>\r\n                    <div className=\"min-w-0 flex-1\">\r\n                      <p className=\"text-sm font-semibold text-gray-900\">Create Session</p>\r\n                      <p className=\"text-xs text-gray-600\">Schedule attendance</p>\r\n                    </div>\r\n                  </button>\r\n\r\n                  {/* Import CSV Button */}\r\n                  <button\r\n                    onClick={() => setShowImportCSVModal(true)}\r\n                    className=\"w-full flex items-center gap-3 p-4 rounded-lg border border-gray-200 bg-white hover:bg-blue-50 hover:border-blue-300 transition-all group text-left\"\r\n                  >\r\n                    <div className=\"size-10 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-600 group-hover:text-white transition-colors\">\r\n                      <span className=\"material-symbols-outlined text-lg\">upload_file</span>\r\n                    </div>\r\n                    <div className=\"min-w-0 flex-1\">\r\n                      <p className=\"text-sm font-semibold text-gray-900\">Import CSV</p>\r\n                      <p className=\"text-xs text-gray-600\">Batch upload courses</p>\r\n                    </div>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ============ RECENT SESSIONS TABLE ============ */}\r\n            <div className=\"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden\">\r\n              \r\n              {/* Table Header */}\r\n              <div className=\"border-b border-gray-200 p-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div>\r\n                    <h3 className=\"text-lg font-bold text-gray-900 mb-1\">Recent Attendance Sessions</h3>\r\n                    <p className=\"text-sm text-gray-600\">Latest sessions from all campus activities</p>\r\n                  </div>\r\n                  <button\r\n                    onClick={() => window.location.href = '/admin/sessions'}\r\n                    className=\"inline-flex items-center gap-2 px-4 py-2 text-blue-600 hover:text-blue-700 font-semibold text-sm group\"\r\n                  >\r\n                    View All\r\n                    <span className=\"material-symbols-outlined text-lg group-hover:translate-x-1 transition-transform\">arrow_forward</span>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Table Content */}\r\n              <div className=\"overflow-x-auto\">\r\n                {recentSessions.length > 0 ? (\r\n                  <table className=\"w-full\">\r\n                    <thead>\r\n                      <tr className=\"bg-gray-50 border-b border-gray-200\">\r\n                        <th className=\"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wide\">Session ID</th>\r\n                        <th className=\"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wide\">Course Name</th>\r\n                        <th className=\"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wide\">Course Code</th>\r\n                        <th className=\"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wide\">Start Time</th>\r\n                        <th className=\"px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wide\">Status</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-200\">\r\n                      {recentSessions.slice(0, 5).map((session) => (\r\n                        <tr key={session.id} className=\"hover:bg-gray-50 transition-colors\">\r\n                          <td className=\"px-6 py-4 text-sm font-semibold text-gray-900\">{session.id.substring(0, 8).toUpperCase()}</td>\r\n                          <td className=\"px-6 py-4 text-sm text-gray-700\">{session.classes?.courses?.course_title || 'N/A'}</td>\r\n                          <td className=\"px-6 py-4 text-sm font-mono text-gray-700\">{session.classes?.courses?.course_code || 'N/A'}</td>\r\n                          <td className=\"px-6 py-4 text-sm text-gray-700\">{session.start_time || 'N/A'}</td>\r\n                          <td className=\"px-6 py-4 text-center\">\r\n                            <span className=\"inline-flex items-center gap-1.5 px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold\">\r\n                              <span className=\"size-2 rounded-full bg-green-600\"></span>\r\n                              Active\r\n                            </span>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                ) : (\r\n                  <div className=\"px-6 py-12 text-center\">\r\n                    <div className=\"inline-flex items-center justify-center size-16 rounded-full bg-gray-100 mb-4\">\r\n                      <span className=\"material-symbols-outlined text-gray-400 text-3xl\">inbox</span>\r\n                    </div>\r\n                    <p className=\"text-gray-900 font-semibold mb-1\">No sessions found</p>\r\n                    <p className=\"text-sm text-gray-600\">Start a session to see attendance data here</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n\r\n    {/* ============================================\r\n        MODALS - Form Dialogs\r\n        ============================================ */}\r\n    \r\n    {/* Add Student Modal */}\r\n    <Modal\r\n      isOpen={showAddStudentModal}\r\n      title=\"Add New Student\"\r\n      onClose={() => setShowAddStudentModal(false)}\r\n      size=\"md\"\r\n      footer={\r\n        <>\r\n          <button\r\n            onClick={() => setShowAddStudentModal(false)}\r\n            className=\"px-4 py-2 border border-gray-300 rounded text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleAddStudent}\r\n            className=\"px-4 py-2 bg-[#135bec] text-white rounded text-sm font-medium hover:bg-blue-700\"\r\n          >\r\n            Add Student\r\n          </button>\r\n        </>\r\n      }\r\n    >\r\n      <div className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Full Name *</label>\r\n          <input\r\n            type=\"text\"\r\n            value={studentForm.name}\r\n            onChange={(e) => setStudentForm(prev => ({ ...prev, name: e.target.value }))}\r\n            placeholder=\"Enter full name\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Matricule *</label>\r\n          <input\r\n            type=\"text\"\r\n            value={studentForm.matricule}\r\n            onChange={(e) => setStudentForm(prev => ({ ...prev, matricule: e.target.value }))}\r\n            placeholder=\"Enter matricule\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Email *</label>\r\n          <input\r\n            type=\"email\"\r\n            value={studentForm.email}\r\n            onChange={(e) => setStudentForm(prev => ({ ...prev, email: e.target.value }))}\r\n            placeholder=\"student@ictuniversity.edu.cm\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Password (min 8 characters) *</label>\r\n          <div className=\"relative\">\r\n            <input\r\n              type={showStudentPassword ? 'text' : 'password'}\r\n              value={studentForm.password}\r\n              onChange={(e) => setStudentForm(prev => ({ ...prev, password: e.target.value }))}\r\n              placeholder=\"Enter secure password\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec] pr-10\"\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowStudentPassword(!showStudentPassword)}\r\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700\"\r\n            >\r\n              {showStudentPassword ? 'ðŸ‘ï¸' : 'ðŸ‘ï¸â€ðŸ—¨ï¸'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n\r\n    {/* Add Instructor Modal */}\r\n    <Modal\r\n      isOpen={showAddInstructorModal}\r\n      title=\"Add New Instructor\"\r\n      onClose={() => setShowAddInstructorModal(false)}\r\n      size=\"md\"\r\n      footer={\r\n        <>\r\n          <button\r\n            onClick={() => setShowAddInstructorModal(false)}\r\n            className=\"px-4 py-2 border border-gray-300 rounded text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleAddInstructor}\r\n            className=\"px-4 py-2 bg-[#135bec] text-white rounded text-sm font-medium hover:bg-blue-700\"\r\n          >\r\n            Add Instructor\r\n          </button>\r\n        </>\r\n      }\r\n    >\r\n      <div className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Full Name *</label>\r\n          <input\r\n            type=\"text\"\r\n            value={instructorForm.name}\r\n            onChange={(e) => setInstructorForm(prev => ({ ...prev, name: e.target.value }))}\r\n            placeholder=\"Enter full name\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Matricule *</label>\r\n          <input\r\n            type=\"text\"\r\n            value={instructorForm.matricule}\r\n            onChange={(e) => setInstructorForm(prev => ({ ...prev, matricule: e.target.value }))}\r\n            placeholder=\"Enter matricule\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Email *</label>\r\n          <input\r\n            type=\"email\"\r\n            value={instructorForm.email}\r\n            onChange={(e) => setInstructorForm(prev => ({ ...prev, email: e.target.value }))}\r\n            placeholder=\"instructor@ictuniversity.edu.cm\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Password (min 8 characters) *</label>\r\n          <div className=\"relative\">\r\n            <input\r\n              type={showInstructorPassword ? 'text' : 'password'}\r\n              value={instructorForm.password}\r\n              onChange={(e) => setInstructorForm(prev => ({ ...prev, password: e.target.value }))}\r\n              placeholder=\"Enter secure password\"\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec] pr-10\"\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowInstructorPassword(!showInstructorPassword)}\r\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700\"\r\n            >\r\n              {showInstructorPassword ? 'ðŸ‘ï¸' : 'ðŸ‘ï¸â€ðŸ—¨ï¸'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n\r\n    {/* Add Course Modal */}\r\n    <Modal\r\n      isOpen={showAddCourseModal}\r\n      title=\"Add New Course\"\r\n      onClose={() => setShowAddCourseModal(false)}\r\n      size=\"md\"\r\n      footer={\r\n        <>\r\n          <button\r\n            onClick={() => setShowAddCourseModal(false)}\r\n            className=\"px-4 py-2 border border-gray-300 rounded text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleAddCourse}\r\n            className=\"px-4 py-2 bg-[#135bec] text-white rounded text-sm font-medium hover:bg-blue-700\"\r\n          >\r\n            Add Course\r\n          </button>\r\n        </>\r\n      }\r\n    >\r\n      <div className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Course Code *</label>\r\n          <input\r\n            type=\"text\"\r\n            value={courseForm.course_code}\r\n            onChange={(e) => setCourseForm(prev => ({ ...prev, course_code: e.target.value }))}\r\n            placeholder=\"e.g., ICT101\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Course Title *</label>\r\n          <input\r\n            type=\"text\"\r\n            value={courseForm.course_title}\r\n            onChange={(e) => setCourseForm(prev => ({ ...prev, course_title: e.target.value }))}\r\n            placeholder=\"Enter course title\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Program *</label>\r\n          <input\r\n            type=\"text\"\r\n            value={courseForm.program}\r\n            onChange={(e) => setCourseForm(prev => ({ ...prev, program: e.target.value }))}\r\n            placeholder=\"e.g., BSc. Computer Science\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Year Level</label>\r\n          <input\r\n            type=\"text\"\r\n            value={courseForm.year_level}\r\n            onChange={(e) => setCourseForm(prev => ({ ...prev, year_level: e.target.value }))}\r\n            placeholder=\"e.g., Year 1\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n\r\n    {/* Add Session Modal */}\r\n    <Modal\r\n      isOpen={showAddSessionModal}\r\n      title=\"Create New Session\"\r\n      onClose={() => setShowAddSessionModal(false)}\r\n      size=\"md\"\r\n      footer={\r\n        <>\r\n          <button\r\n            onClick={() => setShowAddSessionModal(false)}\r\n            className=\"px-4 py-2 border border-gray-300 rounded text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              setSuccess('âœ… Session created successfully!');\r\n              setShowAddSessionModal(false);\r\n                setTimeout(() => setSuccess(null), 3000);\r\n            }}\r\n            className=\"px-4 py-2 bg-[#135bec] text-white rounded text-sm font-medium hover:bg-blue-700\"\r\n          >\r\n            Create Session\r\n          </button>\r\n        </>\r\n      }\r\n    >\r\n      <div className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Session Date *</label>\r\n          <input\r\n            type=\"date\"\r\n            value={sessionForm.session_date}\r\n            onChange={(e) => setSessionForm(prev => ({ ...prev, session_date: e.target.value }))}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Start Time *</label>\r\n          <input\r\n            type=\"time\"\r\n            value={sessionForm.start_time}\r\n            onChange={(e) => setSessionForm(prev => ({ ...prev, start_time: e.target.value }))}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">End Time *</label>\r\n          <input\r\n            type=\"time\"\r\n            value={sessionForm.end_time}\r\n            onChange={(e) => setSessionForm(prev => ({ ...prev, end_time: e.target.value }))}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Venue *</label>\r\n          <input\r\n            type=\"text\"\r\n            value={sessionForm.venue}\r\n            onChange={(e) => setSessionForm(prev => ({ ...prev, venue: e.target.value }))}\r\n            placeholder=\"Enter venue\"\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n      </div>\r\n    </div>\r\n    </Modal>\r\n\r\n    {/* Import CSV Modal */}\r\n    <Modal\r\n      isOpen={showImportCSVModal}\r\n      title=\"Import CSV Data\"\r\n      onClose={() => setShowImportCSVModal(false)}\r\n      size=\"md\"\r\n      footer={\r\n        <>\r\n          <button\r\n            onClick={() => setShowImportCSVModal(false)}\r\n            className=\"px-4 py-2 border border-gray-300 rounded text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleImportCSV}\r\n            className=\"px-4 py-2 bg-[#135bec] text-white rounded text-sm font-medium hover:bg-blue-700\"\r\n          >\r\n            Import\r\n          </button>\r\n        </>\r\n      }\r\n    >\r\n      <div className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-900 mb-2\">Select CSV File *</label>\r\n          <input\r\n            type=\"file\"\r\n            accept=\".csv\"\r\n            onChange={(e) => setCSVFile(e.target.files?.[0] || null)}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-[#135bec]\"\r\n          />\r\n        </div>\r\n        <div className=\"p-3 bg-blue-50 rounded border border-blue-200\">\r\n          <p className=\"text-xs text-blue-800\">\r\n            <strong>CSV Format:</strong> course_code, course_title, program, year_level\r\n          </p>\r\n        </div>\r\n      </div>\r\n      </Modal>\r\n\r\n    {/* Export Report Modal */}\r\n    <Modal\r\n      isOpen={showExportModal}\r\n      title=\"Export Attendance Report\"\r\n      onClose={() => setShowExportModal(false)}\r\n      size=\"md\"\r\n      footer={\r\n        <>\r\n          <button\r\n            onClick={() => setShowExportModal(false)}\r\n            className=\"px-4 py-2 border border-gray-300 rounded text-sm font-medium text-gray-700 bg-white hover:bg-gray-50\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleExportReport}\r\n            className=\"px-4 py-2 bg-[#135bec] text-white rounded text-sm font-medium hover:bg-blue-700\"\r\n          >\r\n            Export\r\n          </button>\r\n        </>\r\n      }\r\n    >\r\n      <div className=\"space-y-4\">\r\n        <p className=\"text-sm text-gray-600\">\r\n          Export attendance data and statistics for {new Date().toLocaleDateString()}\r\n        </p>\r\n        <div className=\"p-3 bg-green-50 rounded border border-green-200\">\r\n          <p className=\"text-xs text-green-800\">\r\n            <strong>Report includes:</strong> Total sessions, attendance records, and system statistics\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}