{"ast":null,"code":"import _objectSpread from\"c:/Users/PFI/Desktop/ictuattennce_portal/ATTENDANCE/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{studentFetchEnrolledCourses,studentFetchAttendanceSummary,studentFetchCourseAttendance,studentFetchAttendanceHistory}from'../utils/dashboardQueries';import{SESSION_STATUS,ATTENDANCE_STATUS,markAttendanceWithStatus,getStudentSessionsByStatus,getTimeRemaining,calculateSessionStatus}from'../utils/sessionLifecycle';/**\r\n * StudentDashboard - Professional University Attendance System\r\n * Clean, modern design following institutional standards\r\n * Mobile-first, responsive layout with sidebar navigation\r\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const StudentDashboard=()=>{var _currentUser$email;const navigate=useNavigate();const{currentUser,userRole,logout}=useAuth();// UI states\nconst[sidebarOpen,setSidebarOpen]=useState(true);const[darkMode,setDarkMode]=useState(()=>{const saved=localStorage.getItem('studentDarkMode');return saved?JSON.parse(saved):false;});// Data states\nconst[courses,setCourses]=useState([]);const[attendanceSummary,setAttendanceSummary]=useState(null);const[courseAttendance,setCourseAttendance]=useState([]);const[attendanceHistory,setAttendanceHistory]=useState([]);const[sessions,setSessions]=useState({scheduled:[],open:[],closed:[]});// UI states\nconst[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[activeTab,setActiveTab]=useState('dashboard');const[markingAttendance,setMarkingAttendance]=useState(null);const[successMessage,setSuccessMessage]=useState(null);// Filter states for history\nconst[historyFilter,setHistoryFilter]=useState({course:'',status:''});const[historySearch,setHistorySearch]=useState('');// Apply dark mode\nuseEffect(()=>{if(darkMode){document.documentElement.classList.add('dark');}else{document.documentElement.classList.remove('dark');}localStorage.setItem('studentDarkMode',JSON.stringify(darkMode));},[darkMode]);// Redirect if not student\nuseEffect(()=>{if(userRole&&userRole!=='student'){navigate('/admin/dashboard');}},[userRole,navigate]);// Fetch all data\nconst fetchData=useCallback(async()=>{if(!(currentUser!==null&&currentUser!==void 0&&currentUser.id))return;try{setLoading(true);setError(null);const[coursesData,summaryData,attendanceData,historyData,sessionsData]=await Promise.all([studentFetchEnrolledCourses(currentUser.id),studentFetchAttendanceSummary(currentUser.id),studentFetchCourseAttendance(currentUser.id),studentFetchAttendanceHistory(currentUser.id),getStudentSessionsByStatus(currentUser.id)]);setCourses(coursesData.courses||[]);setAttendanceSummary(summaryData.summary||null);setCourseAttendance(attendanceData.courseAttendance||[]);setAttendanceHistory(historyData.history||[]);setSessions({scheduled:sessionsData.scheduled||[],open:sessionsData.open||[],closed:sessionsData.closed||[]});}catch(err){console.error('Error fetching data:',err);setError(err.message);}finally{setLoading(false);}},[currentUser===null||currentUser===void 0?void 0:currentUser.id]);// Initial fetch and auto-refresh\nuseEffect(()=>{fetchData();const interval=setInterval(fetchData,30000);return()=>clearInterval(interval);},[fetchData]);// Check for session status changes every 10 seconds\nuseEffect(()=>{const checkSessions=()=>{setSessions(prev=>{let hasChanges=false;const newScheduled=[];const newOpen=[...prev.open];const newClosed=[...prev.closed];for(const session of prev.scheduled){const status=calculateSessionStatus({session_date:session.date,start_time:session.startTime,end_time:session.endTime});if(status===SESSION_STATUS.OPEN){newOpen.push(_objectSpread(_objectSpread({},session),{},{status:SESSION_STATUS.OPEN}));hasChanges=true;}else{newScheduled.push(session);}}const stillOpen=[];for(const session of newOpen){const status=calculateSessionStatus({session_date:session.date,start_time:session.startTime,end_time:session.endTime});if(status===SESSION_STATUS.CLOSED){newClosed.push(_objectSpread(_objectSpread({},session),{},{status:SESSION_STATUS.CLOSED}));hasChanges=true;}else{stillOpen.push(session);}}if(hasChanges){return{scheduled:newScheduled,open:stillOpen,closed:newClosed};}return prev;});};const interval=setInterval(checkSessions,10000);return()=>clearInterval(interval);},[]);// Clear success message\nuseEffect(()=>{if(successMessage){const timer=setTimeout(()=>setSuccessMessage(null),5000);return()=>clearTimeout(timer);}},[successMessage]);// Handle attendance marking\nconst handleMarkAttendance=async sessionId=>{try{setMarkingAttendance(sessionId);setError(null);const result=await markAttendanceWithStatus(currentUser.id,sessionId);if(!result.success){setError(result.error);return;}setSuccessMessage(result.message);setSessions(prev=>_objectSpread(_objectSpread({},prev),{},{open:prev.open.map(s=>s.id===sessionId?_objectSpread(_objectSpread({},s),{},{isMarked:true,attendanceStatus:result.status}):s)}));fetchData();}catch(err){setError(err.message);}finally{setMarkingAttendance(null);}};// Handle logout\nconst handleLogout=async()=>{try{await logout();navigate('/login');}catch(err){console.error('Logout error:',err);}};// Get attendance percentage color\nconst getAttendanceColor=percentage=>{if(percentage>=75)return'text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-400';if(percentage>=50)return'text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-400';return'text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-400';};// Get attendance status color\nconst getStatusColor=status=>{switch(status){case'Present':case ATTENDANCE_STATUS.PRESENT:return'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400';case'Late':case ATTENDANCE_STATUS.LATE:return'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400';case'Absent':case ATTENDANCE_STATUS.ABSENT:return'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400';default:return'bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300';}};// Filter attendance history\nconst filteredHistory=attendanceHistory.filter(record=>{const matchesCourse=!historyFilter.course||record.courseCode===historyFilter.course;const matchesStatus=!historyFilter.status||record.status===historyFilter.status;const matchesSearch=!historySearch||record.courseName.toLowerCase().includes(historySearch.toLowerCase())||record.courseCode.toLowerCase().includes(historySearch.toLowerCase());return matchesCourse&&matchesStatus&&matchesSearch;});// Get today's classes\nconst todayClasses=sessions.scheduled.filter(s=>{const today=new Date().toLocaleDateString();return s.date===today;}).concat(sessions.open.filter(s=>{const today=new Date().toLocaleDateString();return s.date===today;}));const sessionsToday=todayClasses.length;// Navigation items\nconst navItems=[{id:'dashboard',label:'Dashboard',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"})})},{id:'sessions',label:'Active Sessions',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\"})}),badge:sessions.open.length},{id:'history',label:'History',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})})},{id:'courses',label:'My Courses',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"})})}];if(!currentUser){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-4 border-green-500 border-t-transparent\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-screen overflow-hidden \".concat(darkMode?'dark':''),children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"\".concat(sidebarOpen?'w-64':'w-20',\" bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 flex flex-col transition-all duration-300 shadow-lg hidden md:flex\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-gray-200 dark:border-gray-800\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center flex-shrink-0\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"})})}),sidebarOpen&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-sm text-gray-900 dark:text-white\",children:\"Student\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:\"Portal\"})]})]})}),/*#__PURE__*/_jsx(\"nav\",{className:\"flex-1 overflow-y-auto px-3 py-6 space-y-2\",children:navItems.map(item=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(item.id),className:\"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all \".concat(activeTab===item.id?'bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 font-semibold':'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800'),children:[item.icon,sidebarOpen&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm flex-1 text-left\",children:item.label}),sidebarOpen&&item.badge>0&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 bg-green-500 text-white text-xs rounded-full\",children:item.badge})]},item.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border-t border-gray-200 dark:border-gray-800 space-y-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setDarkMode(!darkMode),className:\"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all\",children:[darkMode?/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\"})}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"})}),sidebarOpen&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:darkMode?'Light Mode':'Dark Mode'})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/student/profile'),className:\"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"})}),sidebarOpen&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Profile\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/10 transition-all\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"})}),sidebarOpen&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold\",children:\"Logout\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 border-t border-gray-200 dark:border-gray-800\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(!sidebarOpen),className:\"w-full flex items-center justify-center py-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 transition-transform \".concat(sidebarOpen?'':'rotate-180'),fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 19l-7-7 7-7\"})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col overflow-hidden bg-gray-50 dark:bg-gray-950\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"sticky top-0 z-40 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 sm:px-8 py-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(!sidebarOpen),className:\"md:hidden p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 6h16M4 12h16M4 18h16\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white\",children:\"University Attendance System\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:[\"Welcome, \",(currentUser===null||currentUser===void 0?void 0:currentUser.name)||(currentUser===null||currentUser===void 0?void 0:currentUser.email)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-flex px-2.5 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-medium rounded-full\",children:\"Student\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDarkMode(!darkMode),className:\"md:hidden p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800\",children:darkMode?/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\"})}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center text-white font-bold cursor-pointer\",children:currentUser===null||currentUser===void 0?void 0:(_currentUser$email=currentUser.email)===null||_currentUser$email===void 0?void 0:_currentUser$email.charAt(0).toUpperCase()})]})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 sm:p-8 max-w-7xl mx-auto\",children:[successMessage&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-green-600 dark:text-green-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-green-700 dark:text-green-400 font-medium\",children:successMessage})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-red-600 dark:text-red-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-700 dark:text-red-400\",children:error})]}),activeTab==='dashboard'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400 font-medium\",children:\"Enrolled Courses\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900 dark:text-white mt-1\",children:courses.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-blue-600 dark:text-blue-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"})})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400 font-medium\",children:\"Overall Attendance\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-gray-900 dark:text-white mt-1\",children:[(attendanceSummary===null||attendanceSummary===void 0?void 0:attendanceSummary.attendancePercentage)||0,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 rounded-lg flex items-center justify-center \".concat(getAttendanceColor((attendanceSummary===null||attendanceSummary===void 0?void 0:attendanceSummary.attendancePercentage)||0)),children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full rounded-full transition-all \".concat(((attendanceSummary===null||attendanceSummary===void 0?void 0:attendanceSummary.attendancePercentage)||0)>=75?'bg-green-500':((attendanceSummary===null||attendanceSummary===void 0?void 0:attendanceSummary.attendancePercentage)||0)>=50?'bg-yellow-500':'bg-red-500'),style:{width:\"\".concat((attendanceSummary===null||attendanceSummary===void 0?void 0:attendanceSummary.attendancePercentage)||0,\"%\")}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400 font-medium\",children:\"Sessions Today\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-gray-900 dark:text-white mt-1\",children:sessionsToday})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-indigo-600 dark:text-indigo-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"})})})]})})]}),courses.length===0&&!loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-900 rounded-xl p-12 border border-gray-200 dark:border-gray-800 text-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1.5,d:\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-2\",children:\"You are not enrolled in any course yet.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"Contact your administrator to get enrolled in courses.\"})]}),courses.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200 dark:border-gray-800\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"Today's Classes\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:todayClasses.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:todayClasses.map(session=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900 dark:text-white\",children:session.courseTitle}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:session.courseCode}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400 mt-1\",children:[session.startTime,\" - \",session.endTime]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-medium \".concat(session.status===SESSION_STATUS.OPEN?'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400':'bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400'),children:session.status===SESSION_STATUS.OPEN?'In Progress':'Scheduled'})]},session.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1.5,d:\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"No classes scheduled for today.\"})]})})]}),courseAttendance.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200 dark:border-gray-800\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"Course Attendance Summary\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:courseAttendance.map(course=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900 dark:text-white\",children:course.courseTitle}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:course.courseCode})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"px-3 py-1 rounded-full text-sm font-medium \".concat(course.attendancePercentage>=75?'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400':course.attendancePercentage>=50?'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400':'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400'),children:[course.attendancePercentage,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full rounded-full transition-all \".concat(course.attendancePercentage>=75?'bg-green-500':course.attendancePercentage>=50?'bg-yellow-500':'bg-red-500'),style:{width:\"\".concat(course.attendancePercentage,\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:[course.attended,\"/\",course.totalSessions]})]})]},course.courseId))})})]})]}),activeTab==='sessions'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"Active Attendance Sessions\"}),sessions.open.length>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"px-2.5 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-medium rounded-full\",children:[sessions.open.length,\" Active\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:sessions.open.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:sessions.open.map(session=>{const timeRemaining=getTimeRemaining({session_date:session.date,start_time:session.startTime,end_time:session.endTime});return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-2 border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 rounded-xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 bg-green-600 text-white text-xs font-medium rounded\",children:\"OPEN\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 dark:text-white text-lg\",children:session.courseTitle}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:[session.courseCode,\" \\u2022 \",session.className]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-500 mt-1\",children:[session.startTime,\" - \",session.endTime]}),timeRemaining&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium text-green-700 dark:text-green-400 mt-2\",children:[\"\\u23F1 \",timeRemaining.formatted]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:session.isMarked?/*#__PURE__*/_jsxs(\"span\",{className:\"inline-block px-4 py-2 rounded-lg text-sm font-medium \".concat(session.attendanceStatus===ATTENDANCE_STATUS.LATE?'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400':'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400'),children:[\"\\u2713 \",session.attendanceStatus===ATTENDANCE_STATUS.LATE?'LATE':'PRESENT']}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleMarkAttendance(session.id),disabled:markingAttendance===session.id,className:\"px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2\",children:markingAttendance===session.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"}),\"Marking...\"]}):'Mark Attendance'})})]})},session.id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1.5,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"No active sessions at the moment.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 dark:text-gray-500 mt-1\",children:\"Sessions will appear here when they start.\"})]})})]}),activeTab==='history'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200 dark:border-gray-800\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"Attendance History\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-4 border-b border-gray-200 dark:border-gray-800 flex flex-wrap gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by course...\",value:historySearch,onChange:e=>setHistorySearch(e.target.value),className:\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent\"}),/*#__PURE__*/_jsxs(\"select\",{value:historyFilter.course,onChange:e=>setHistoryFilter(prev=>_objectSpread(_objectSpread({},prev),{},{course:e.target.value})),className:\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Courses\"}),[...new Set(attendanceHistory.map(r=>r.courseCode))].map(code=>/*#__PURE__*/_jsx(\"option\",{value:code,children:code},code))]}),/*#__PURE__*/_jsxs(\"select\",{value:historyFilter.status,onChange:e=>setHistoryFilter(prev=>_objectSpread(_objectSpread({},prev),{},{status:e.target.value})),className:\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Present\",children:\"Present\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Late\",children:\"Late\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Absent\",children:\"Absent\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-800\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\",children:\"Course\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\",children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\",children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-gray-200 dark:divide-gray-700\",children:filteredHistory.length>0?filteredHistory.map((record,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50 dark:hover:bg-gray-800\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-gray-900 dark:text-white\",children:record.courseName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:record.courseCode})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 text-sm text-gray-900 dark:text-white\",children:record.sessionDate}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 text-sm text-gray-500 dark:text-gray-400\",children:[record.startTime,\" - \",record.endTime]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 rounded-full text-xs font-medium \".concat(getStatusColor(record.status)),children:record.status})})]},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:4,className:\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\",children:\"No attendance records found.\"})})})]})})]}),activeTab==='courses'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"My Enrolled Courses\"}),courses.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:courses.map(course=>{const stats=courseAttendance.find(c=>c.courseId===course.id);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 dark:text-white\",children:course.courseTitle}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:course.courseCode})]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2.5 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full\",children:course.program})]}),stats&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 dark:text-gray-400\",children:\"Attendance\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-900 dark:text-white\",children:[stats.attendancePercentage,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full rounded-full \".concat(stats.attendancePercentage>=75?'bg-green-500':stats.attendancePercentage>=50?'bg-yellow-500':'bg-red-500'),style:{width:\"\".concat(stats.attendancePercentage,\"%\")}})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:[stats.attended,\" of \",stats.totalSessions,\" sessions attended\"]})]})]},course.id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-900 rounded-xl p-12 border border-gray-200 dark:border-gray-800 text-center\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:1.5,d:\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-2\",children:\"No courses enrolled\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"Contact your administrator to enroll in courses.\"})]})]})]})})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 md:hidden z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-around h-16\",children:navItems.map(item=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(item.id),className:\"flex flex-col items-center justify-center flex-1 h-full relative \".concat(activeTab===item.id?'text-green-600 dark:text-green-400':'text-gray-500 dark:text-gray-400'),children:[item.icon,/*#__PURE__*/_jsx(\"span\",{className:\"text-xs mt-1\",children:item.label.split(' ')[0]}),item.badge>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute top-2 right-1/4 w-4 h-4 bg-green-500 text-white text-xs rounded-full flex items-center justify-center\",children:item.badge})]},item.id))})}),/*#__PURE__*/_jsx(\"div\",{className:\"h-16 md:hidden\"})]});};export default StudentDashboard;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useAuth","studentFetchEnrolledCourses","studentFetchAttendanceSummary","studentFetchCourseAttendance","studentFetchAttendanceHistory","SESSION_STATUS","ATTENDANCE_STATUS","markAttendanceWithStatus","getStudentSessionsByStatus","getTimeRemaining","calculateSessionStatus","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StudentDashboard","_currentUser$email","navigate","currentUser","userRole","logout","sidebarOpen","setSidebarOpen","darkMode","setDarkMode","saved","localStorage","getItem","JSON","parse","courses","setCourses","attendanceSummary","setAttendanceSummary","courseAttendance","setCourseAttendance","attendanceHistory","setAttendanceHistory","sessions","setSessions","scheduled","open","closed","loading","setLoading","error","setError","activeTab","setActiveTab","markingAttendance","setMarkingAttendance","successMessage","setSuccessMessage","historyFilter","setHistoryFilter","course","status","historySearch","setHistorySearch","document","documentElement","classList","add","remove","setItem","stringify","fetchData","id","coursesData","summaryData","attendanceData","historyData","sessionsData","Promise","all","summary","history","err","console","message","interval","setInterval","clearInterval","checkSessions","prev","hasChanges","newScheduled","newOpen","newClosed","session","session_date","date","start_time","startTime","end_time","endTime","OPEN","push","_objectSpread","stillOpen","CLOSED","timer","setTimeout","clearTimeout","handleMarkAttendance","sessionId","result","success","map","s","isMarked","attendanceStatus","handleLogout","getAttendanceColor","percentage","getStatusColor","PRESENT","LATE","ABSENT","filteredHistory","filter","record","matchesCourse","courseCode","matchesStatus","matchesSearch","courseName","toLowerCase","includes","todayClasses","today","Date","toLocaleDateString","concat","sessionsToday","length","navItems","label","icon","className","fill","stroke","viewBox","children","strokeLinecap","strokeLinejoin","strokeWidth","d","badge","item","onClick","name","email","charAt","toUpperCase","attendancePercentage","style","width","courseTitle","attended","totalSessions","courseId","timeRemaining","formatted","disabled","type","placeholder","value","onChange","e","target","Set","r","code","index","sessionDate","colSpan","stats","find","c","program","split"],"sources":["c:/Users/PFI/Desktop/ictuattennce_portal/ATTENDANCE/src/pages/StudentDashboard.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport {\r\n  studentFetchEnrolledCourses,\r\n  studentFetchAttendanceSummary,\r\n  studentFetchCourseAttendance,\r\n  studentFetchAttendanceHistory,\r\n} from '../utils/dashboardQueries';\r\nimport {\r\n  SESSION_STATUS,\r\n  ATTENDANCE_STATUS,\r\n  markAttendanceWithStatus,\r\n  getStudentSessionsByStatus,\r\n  getTimeRemaining,\r\n  calculateSessionStatus,\r\n} from '../utils/sessionLifecycle';\r\n\r\n/**\r\n * StudentDashboard - Professional University Attendance System\r\n * Clean, modern design following institutional standards\r\n * Mobile-first, responsive layout with sidebar navigation\r\n */\r\nconst StudentDashboard = () => {\r\n  const navigate = useNavigate();\r\n  const { currentUser, userRole, logout } = useAuth();\r\n\r\n  // UI states\r\n  const [sidebarOpen, setSidebarOpen] = useState(true);\r\n  const [darkMode, setDarkMode] = useState(() => {\r\n    const saved = localStorage.getItem('studentDarkMode');\r\n    return saved ? JSON.parse(saved) : false;\r\n  });\r\n\r\n  // Data states\r\n  const [courses, setCourses] = useState([]);\r\n  const [attendanceSummary, setAttendanceSummary] = useState(null);\r\n  const [courseAttendance, setCourseAttendance] = useState([]);\r\n  const [attendanceHistory, setAttendanceHistory] = useState([]);\r\n  const [sessions, setSessions] = useState({ scheduled: [], open: [], closed: [] });\r\n\r\n  // UI states\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('dashboard');\r\n  const [markingAttendance, setMarkingAttendance] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n\r\n  // Filter states for history\r\n  const [historyFilter, setHistoryFilter] = useState({ course: '', status: '' });\r\n  const [historySearch, setHistorySearch] = useState('');\r\n\r\n  // Apply dark mode\r\n  useEffect(() => {\r\n    if (darkMode) {\r\n      document.documentElement.classList.add('dark');\r\n    } else {\r\n      document.documentElement.classList.remove('dark');\r\n    }\r\n    localStorage.setItem('studentDarkMode', JSON.stringify(darkMode));\r\n  }, [darkMode]);\r\n\r\n  // Redirect if not student\r\n  useEffect(() => {\r\n    if (userRole && userRole !== 'student') {\r\n      navigate('/admin/dashboard');\r\n    }\r\n  }, [userRole, navigate]);\r\n\r\n  // Fetch all data\r\n  const fetchData = useCallback(async () => {\r\n    if (!currentUser?.id) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const [coursesData, summaryData, attendanceData, historyData, sessionsData] = await Promise.all([\r\n        studentFetchEnrolledCourses(currentUser.id),\r\n        studentFetchAttendanceSummary(currentUser.id),\r\n        studentFetchCourseAttendance(currentUser.id),\r\n        studentFetchAttendanceHistory(currentUser.id),\r\n        getStudentSessionsByStatus(currentUser.id),\r\n      ]);\r\n\r\n      setCourses(coursesData.courses || []);\r\n      setAttendanceSummary(summaryData.summary || null);\r\n      setCourseAttendance(attendanceData.courseAttendance || []);\r\n      setAttendanceHistory(historyData.history || []);\r\n      setSessions({\r\n        scheduled: sessionsData.scheduled || [],\r\n        open: sessionsData.open || [],\r\n        closed: sessionsData.closed || [],\r\n      });\r\n    } catch (err) {\r\n      console.error('Error fetching data:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [currentUser?.id]);\r\n\r\n  // Initial fetch and auto-refresh\r\n  useEffect(() => {\r\n    fetchData();\r\n    const interval = setInterval(fetchData, 30000);\r\n    return () => clearInterval(interval);\r\n  }, [fetchData]);\r\n\r\n  // Check for session status changes every 10 seconds\r\n  useEffect(() => {\r\n    const checkSessions = () => {\r\n      setSessions(prev => {\r\n        let hasChanges = false;\r\n        const newScheduled = [];\r\n        const newOpen = [...prev.open];\r\n        const newClosed = [...prev.closed];\r\n\r\n        for (const session of prev.scheduled) {\r\n          const status = calculateSessionStatus({\r\n            session_date: session.date,\r\n            start_time: session.startTime,\r\n            end_time: session.endTime,\r\n          });\r\n          if (status === SESSION_STATUS.OPEN) {\r\n            newOpen.push({ ...session, status: SESSION_STATUS.OPEN });\r\n            hasChanges = true;\r\n          } else {\r\n            newScheduled.push(session);\r\n          }\r\n        }\r\n\r\n        const stillOpen = [];\r\n        for (const session of newOpen) {\r\n          const status = calculateSessionStatus({\r\n            session_date: session.date,\r\n            start_time: session.startTime,\r\n            end_time: session.endTime,\r\n          });\r\n          if (status === SESSION_STATUS.CLOSED) {\r\n            newClosed.push({ ...session, status: SESSION_STATUS.CLOSED });\r\n            hasChanges = true;\r\n          } else {\r\n            stillOpen.push(session);\r\n          }\r\n        }\r\n\r\n        if (hasChanges) {\r\n          return { scheduled: newScheduled, open: stillOpen, closed: newClosed };\r\n        }\r\n        return prev;\r\n      });\r\n    };\r\n\r\n    const interval = setInterval(checkSessions, 10000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // Clear success message\r\n  useEffect(() => {\r\n    if (successMessage) {\r\n      const timer = setTimeout(() => setSuccessMessage(null), 5000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [successMessage]);\r\n\r\n  // Handle attendance marking\r\n  const handleMarkAttendance = async (sessionId) => {\r\n    try {\r\n      setMarkingAttendance(sessionId);\r\n      setError(null);\r\n\r\n      const result = await markAttendanceWithStatus(currentUser.id, sessionId);\r\n\r\n      if (!result.success) {\r\n        setError(result.error);\r\n        return;\r\n      }\r\n\r\n      setSuccessMessage(result.message);\r\n\r\n      setSessions(prev => ({\r\n        ...prev,\r\n        open: prev.open.map(s =>\r\n          s.id === sessionId\r\n            ? { ...s, isMarked: true, attendanceStatus: result.status }\r\n            : s\r\n        ),\r\n      }));\r\n\r\n      fetchData();\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setMarkingAttendance(null);\r\n    }\r\n  };\r\n\r\n  // Handle logout\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logout();\r\n      navigate('/login');\r\n    } catch (err) {\r\n      console.error('Logout error:', err);\r\n    }\r\n  };\r\n\r\n  // Get attendance percentage color\r\n  const getAttendanceColor = (percentage) => {\r\n    if (percentage >= 75) return 'text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-400';\r\n    if (percentage >= 50) return 'text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30 dark:text-yellow-400';\r\n    return 'text-red-600 bg-red-100 dark:bg-red-900/30 dark:text-red-400';\r\n  };\r\n\r\n  // Get attendance status color\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'Present':\r\n      case ATTENDANCE_STATUS.PRESENT:\r\n        return 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400';\r\n      case 'Late':\r\n      case ATTENDANCE_STATUS.LATE:\r\n        return 'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400';\r\n      case 'Absent':\r\n      case ATTENDANCE_STATUS.ABSENT:\r\n        return 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400';\r\n      default:\r\n        return 'bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300';\r\n    }\r\n  };\r\n\r\n  // Filter attendance history\r\n  const filteredHistory = attendanceHistory.filter(record => {\r\n    const matchesCourse = !historyFilter.course || record.courseCode === historyFilter.course;\r\n    const matchesStatus = !historyFilter.status || record.status === historyFilter.status;\r\n    const matchesSearch = !historySearch ||\r\n      record.courseName.toLowerCase().includes(historySearch.toLowerCase()) ||\r\n      record.courseCode.toLowerCase().includes(historySearch.toLowerCase());\r\n    return matchesCourse && matchesStatus && matchesSearch;\r\n  });\r\n\r\n  // Get today's classes\r\n  const todayClasses = sessions.scheduled.filter(s => {\r\n    const today = new Date().toLocaleDateString();\r\n    return s.date === today;\r\n  }).concat(sessions.open.filter(s => {\r\n    const today = new Date().toLocaleDateString();\r\n    return s.date === today;\r\n  }));\r\n\r\n  const sessionsToday = todayClasses.length;\r\n\r\n  // Navigation items\r\n  const navItems = [\r\n    {\r\n      id: 'dashboard', label: 'Dashboard', icon: (\r\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\r\n        </svg>\r\n      )\r\n    },\r\n    {\r\n      id: 'sessions', label: 'Active Sessions', icon: (\r\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" />\r\n        </svg>\r\n      ), badge: sessions.open.length\r\n    },\r\n    {\r\n      id: 'history', label: 'History', icon: (\r\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n        </svg>\r\n      )\r\n    },\r\n    {\r\n      id: 'courses', label: 'My Courses', icon: (\r\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" />\r\n        </svg>\r\n      )\r\n    },\r\n  ];\r\n\r\n  if (!currentUser) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-green-500 border-t-transparent\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`flex h-screen overflow-hidden ${darkMode ? 'dark' : ''}`}>\r\n      {/* SIDEBAR */}\r\n      <aside className={`${sidebarOpen ? 'w-64' : 'w-20'} bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 flex flex-col transition-all duration-300 shadow-lg hidden md:flex`}>\r\n        {/* Logo */}\r\n        <div className=\"p-6 border-b border-gray-200 dark:border-gray-800\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center flex-shrink-0\">\r\n              <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" />\r\n              </svg>\r\n            </div>\r\n            {sidebarOpen && (\r\n              <div>\r\n                <p className=\"font-bold text-sm text-gray-900 dark:text-white\">Student</p>\r\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">Portal</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Navigation */}\r\n        <nav className=\"flex-1 overflow-y-auto px-3 py-6 space-y-2\">\r\n          {navItems.map((item) => (\r\n            <button\r\n              key={item.id}\r\n              onClick={() => setActiveTab(item.id)}\r\n              className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${activeTab === item.id\r\n                  ? 'bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 font-semibold'\r\n                  : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800'\r\n                }`}\r\n            >\r\n              {item.icon}\r\n              {sidebarOpen && (\r\n                <span className=\"text-sm flex-1 text-left\">{item.label}</span>\r\n              )}\r\n              {sidebarOpen && item.badge > 0 && (\r\n                <span className=\"px-2 py-0.5 bg-green-500 text-white text-xs rounded-full\">\r\n                  {item.badge}\r\n                </span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </nav>\r\n\r\n        {/* Bottom Actions */}\r\n        <div className=\"p-3 border-t border-gray-200 dark:border-gray-800 space-y-2\">\r\n          {/* Theme Toggle */}\r\n          <button\r\n            onClick={() => setDarkMode(!darkMode)}\r\n            className=\"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all\"\r\n          >\r\n            {darkMode ? (\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n              </svg>\r\n            ) : (\r\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\r\n              </svg>\r\n            )}\r\n            {sidebarOpen && <span className=\"text-sm\">{darkMode ? 'Light Mode' : 'Dark Mode'}</span>}\r\n          </button>\r\n\r\n          {/* Profile */}\r\n          <button\r\n            onClick={() => navigate('/student/profile')}\r\n            className=\"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all\"\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\r\n            </svg>\r\n            {sidebarOpen && <span className=\"text-sm\">Profile</span>}\r\n          </button>\r\n\r\n          {/* Logout */}\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/10 transition-all\"\r\n          >\r\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\r\n            </svg>\r\n            {sidebarOpen && <span className=\"text-sm font-semibold\">Logout</span>}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Collapse Toggle */}\r\n        <div className=\"p-3 border-t border-gray-200 dark:border-gray-800\">\r\n          <button\r\n            onClick={() => setSidebarOpen(!sidebarOpen)}\r\n            className=\"w-full flex items-center justify-center py-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all\"\r\n          >\r\n            <svg className={`w-5 h-5 transition-transform ${sidebarOpen ? '' : 'rotate-180'}`} fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* MAIN CONTENT */}\r\n      <div className=\"flex-1 flex flex-col overflow-hidden bg-gray-50 dark:bg-gray-950\">\r\n        {/* TOP BAR */}\r\n        <header className=\"sticky top-0 z-40 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 shadow-sm\">\r\n          <div className=\"px-4 sm:px-8 py-4 flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-4\">\r\n              {/* Mobile menu button */}\r\n              <button\r\n                onClick={() => setSidebarOpen(!sidebarOpen)}\r\n                className=\"md:hidden p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n                </svg>\r\n              </button>\r\n              <div>\r\n                <h1 className=\"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white\">\r\n                  University Attendance System\r\n                </h1>\r\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                  Welcome, {currentUser?.name || currentUser?.email}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-4\">\r\n              <span className=\"hidden sm:inline-flex px-2.5 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-medium rounded-full\">\r\n                Student\r\n              </span>\r\n\r\n              {/* Mobile theme toggle */}\r\n              <button\r\n                onClick={() => setDarkMode(!darkMode)}\r\n                className=\"md:hidden p-2 rounded-lg text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800\"\r\n              >\r\n                {darkMode ? (\r\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n                  </svg>\r\n                ) : (\r\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\r\n                  </svg>\r\n                )}\r\n              </button>\r\n\r\n              <div className=\"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center text-white font-bold cursor-pointer\">\r\n                {currentUser?.email?.charAt(0).toUpperCase()}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        {/* SCROLLABLE CONTENT */}\r\n        <main className=\"flex-1 overflow-y-auto\">\r\n          <div className=\"p-4 sm:p-8 max-w-7xl mx-auto\">\r\n            {/* Success Message */}\r\n            {successMessage && (\r\n              <div className=\"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center gap-3\">\r\n                <svg className=\"w-5 h-5 text-green-600 dark:text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                </svg>\r\n                <p className=\"text-green-700 dark:text-green-400 font-medium\">{successMessage}</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* Error Message */}\r\n            {error && (\r\n              <div className=\"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-3\">\r\n                <svg className=\"w-5 h-5 text-red-600 dark:text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                </svg>\r\n                <p className=\"text-red-700 dark:text-red-400\">{error}</p>\r\n              </div>\r\n            )}\r\n\r\n            {/* DASHBOARD TAB */}\r\n            {activeTab === 'dashboard' && (\r\n              <div className=\"space-y-6\">\r\n                {/* SUMMARY CARDS */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n                  {/* Enrolled Courses */}\r\n                  <div className=\"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400 font-medium\">Enrolled Courses</p>\r\n                        <p className=\"text-3xl font-bold text-gray-900 dark:text-white mt-1\">{courses.length}</p>\r\n                      </div>\r\n                      <div className=\"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center\">\r\n                        <svg className=\"w-6 h-6 text-blue-600 dark:text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" />\r\n                        </svg>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Overall Attendance */}\r\n                  <div className=\"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400 font-medium\">Overall Attendance</p>\r\n                        <p className=\"text-3xl font-bold text-gray-900 dark:text-white mt-1\">\r\n                          {attendanceSummary?.attendancePercentage || 0}%\r\n                        </p>\r\n                      </div>\r\n                      <div className={`w-12 h-12 rounded-lg flex items-center justify-center ${getAttendanceColor(attendanceSummary?.attendancePercentage || 0)\r\n                        }`}>\r\n                        <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                        </svg>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"mt-3 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\">\r\n                      <div\r\n                        className={`h-full rounded-full transition-all ${(attendanceSummary?.attendancePercentage || 0) >= 75\r\n                            ? 'bg-green-500'\r\n                            : (attendanceSummary?.attendancePercentage || 0) >= 50\r\n                              ? 'bg-yellow-500'\r\n                              : 'bg-red-500'\r\n                          }`}\r\n                        style={{ width: `${attendanceSummary?.attendancePercentage || 0}%` }}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Sessions Today */}\r\n                  <div className=\"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400 font-medium\">Sessions Today</p>\r\n                        <p className=\"text-3xl font-bold text-gray-900 dark:text-white mt-1\">{sessionsToday}</p>\r\n                      </div>\r\n                      <div className=\"w-12 h-12 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center\">\r\n                        <svg className=\"w-6 h-6 text-indigo-600 dark:text-indigo-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                        </svg>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Empty State */}\r\n                {courses.length === 0 && !loading && (\r\n                  <div className=\"bg-white dark:bg-gray-900 rounded-xl p-12 border border-gray-200 dark:border-gray-800 text-center\">\r\n                    <svg className=\"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" />\r\n                    </svg>\r\n                    <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">You are not enrolled in any course yet.</h3>\r\n                    <p className=\"text-gray-500 dark:text-gray-400\">Contact your administrator to get enrolled in courses.</p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* TODAY'S CLASSES */}\r\n                {courses.length > 0 && (\r\n                  <div className=\"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800\">\r\n                    <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-800\">\r\n                      <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Today's Classes</h2>\r\n                    </div>\r\n                    <div className=\"p-6\">\r\n                      {todayClasses.length > 0 ? (\r\n                        <div className=\"space-y-4\">\r\n                          {todayClasses.map(session => (\r\n                            <div\r\n                              key={session.id}\r\n                              className=\"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg\"\r\n                            >\r\n                              <div>\r\n                                <p className=\"font-medium text-gray-900 dark:text-white\">{session.courseTitle}</p>\r\n                                <p className=\"text-sm text-gray-500 dark:text-gray-400\">{session.courseCode}</p>\r\n                                <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\r\n                                  {session.startTime} - {session.endTime}\r\n                                </p>\r\n                              </div>\r\n                              <span className={`px-3 py-1 rounded-full text-xs font-medium ${session.status === SESSION_STATUS.OPEN\r\n                                  ? 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400'\r\n                                  : 'bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400'\r\n                                }`}>\r\n                                {session.status === SESSION_STATUS.OPEN ? 'In Progress' : 'Scheduled'}\r\n                              </span>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      ) : (\r\n                        <div className=\"text-center py-8\">\r\n                          <svg className=\"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                          </svg>\r\n                          <p className=\"text-gray-500 dark:text-gray-400\">No classes scheduled for today.</p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* COURSE ATTENDANCE SUMMARY */}\r\n                {courseAttendance.length > 0 && (\r\n                  <div className=\"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800\">\r\n                    <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-800\">\r\n                      <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Course Attendance Summary</h2>\r\n                    </div>\r\n                    <div className=\"p-6\">\r\n                      <div className=\"space-y-4\">\r\n                        {courseAttendance.map(course => (\r\n                          <div key={course.courseId} className=\"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg\">\r\n                            <div className=\"flex items-center justify-between mb-2\">\r\n                              <div>\r\n                                <p className=\"font-medium text-gray-900 dark:text-white\">{course.courseTitle}</p>\r\n                                <p className=\"text-sm text-gray-500 dark:text-gray-400\">{course.courseCode}</p>\r\n                              </div>\r\n                              <span className={`px-3 py-1 rounded-full text-sm font-medium ${course.attendancePercentage >= 75\r\n                                  ? 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400'\r\n                                  : course.attendancePercentage >= 50\r\n                                    ? 'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400'\r\n                                    : 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400'\r\n                                }`}>\r\n                                {course.attendancePercentage}%\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-3\">\r\n                              <div className=\"flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\">\r\n                                <div\r\n                                  className={`h-full rounded-full transition-all ${course.attendancePercentage >= 75\r\n                                      ? 'bg-green-500'\r\n                                      : course.attendancePercentage >= 50\r\n                                        ? 'bg-yellow-500'\r\n                                        : 'bg-red-500'\r\n                                    }`}\r\n                                  style={{ width: `${course.attendancePercentage}%` }}\r\n                                />\r\n                              </div>\r\n                              <span className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                                {course.attended}/{course.totalSessions}\r\n                              </span>\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* ACTIVE SESSIONS TAB */}\r\n            {activeTab === 'sessions' && (\r\n              <div className=\"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800\">\r\n                <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between\">\r\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Active Attendance Sessions</h2>\r\n                  {sessions.open.length > 0 && (\r\n                    <span className=\"px-2.5 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-medium rounded-full\">\r\n                      {sessions.open.length} Active\r\n                    </span>\r\n                  )}\r\n                </div>\r\n                <div className=\"p-6\">\r\n                  {sessions.open.length > 0 ? (\r\n                    <div className=\"space-y-4\">\r\n                      {sessions.open.map(session => {\r\n                        const timeRemaining = getTimeRemaining({\r\n                          session_date: session.date,\r\n                          start_time: session.startTime,\r\n                          end_time: session.endTime,\r\n                        });\r\n\r\n                        return (\r\n                          <div\r\n                            key={session.id}\r\n                            className=\"p-4 border-2 border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20 rounded-xl\"\r\n                          >\r\n                            <div className=\"flex items-start justify-between\">\r\n                              <div className=\"flex-1\">\r\n                                <div className=\"flex items-center gap-2 mb-1\">\r\n                                  <span className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\r\n                                  <span className=\"px-2 py-0.5 bg-green-600 text-white text-xs font-medium rounded\">\r\n                                    OPEN\r\n                                  </span>\r\n                                </div>\r\n                                <h3 className=\"font-semibold text-gray-900 dark:text-white text-lg\">{session.courseTitle}</h3>\r\n                                <p className=\"text-sm text-gray-600 dark:text-gray-400\">{session.courseCode}  {session.className}</p>\r\n                                <p className=\"text-sm text-gray-500 dark:text-gray-500 mt-1\">\r\n                                  {session.startTime} - {session.endTime}\r\n                                </p>\r\n                                {timeRemaining && (\r\n                                  <p className=\"text-sm font-medium text-green-700 dark:text-green-400 mt-2\">\r\n                                     {timeRemaining.formatted}\r\n                                  </p>\r\n                                )}\r\n                              </div>\r\n                              <div className=\"ml-4\">\r\n                                {session.isMarked ? (\r\n                                  <span className={`inline-block px-4 py-2 rounded-lg text-sm font-medium ${session.attendanceStatus === ATTENDANCE_STATUS.LATE\r\n                                      ? 'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400'\r\n                                      : 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400'\r\n                                    }`}>\r\n                                     {session.attendanceStatus === ATTENDANCE_STATUS.LATE ? 'LATE' : 'PRESENT'}\r\n                                  </span>\r\n                                ) : (\r\n                                  <button\r\n                                    onClick={() => handleMarkAttendance(session.id)}\r\n                                    disabled={markingAttendance === session.id}\r\n                                    className=\"px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2\"\r\n                                  >\r\n                                    {markingAttendance === session.id ? (\r\n                                      <>\r\n                                        <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\r\n                                        Marking...\r\n                                      </>\r\n                                    ) : (\r\n                                      'Mark Attendance'\r\n                                    )}\r\n                                  </button>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"text-center py-12\">\r\n                      <svg className=\"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                      </svg>\r\n                      <p className=\"text-gray-500 dark:text-gray-400\">No active sessions at the moment.</p>\r\n                      <p className=\"text-sm text-gray-400 dark:text-gray-500 mt-1\">Sessions will appear here when they start.</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* HISTORY TAB */}\r\n            {activeTab === 'history' && (\r\n              <div className=\"bg-white dark:bg-gray-900 rounded-xl border border-gray-200 dark:border-gray-800\">\r\n                <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-800\">\r\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Attendance History</h2>\r\n                </div>\r\n\r\n                {/* Filters */}\r\n                <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-800 flex flex-wrap gap-4\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search by course...\"\r\n                    value={historySearch}\r\n                    onChange={(e) => setHistorySearch(e.target.value)}\r\n                    className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                  />\r\n                  <select\r\n                    value={historyFilter.course}\r\n                    onChange={(e) => setHistoryFilter(prev => ({ ...prev, course: e.target.value }))}\r\n                    className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"\">All Courses</option>\r\n                    {[...new Set(attendanceHistory.map(r => r.courseCode))].map(code => (\r\n                      <option key={code} value={code}>{code}</option>\r\n                    ))}\r\n                  </select>\r\n                  <select\r\n                    value={historyFilter.status}\r\n                    onChange={(e) => setHistoryFilter(prev => ({ ...prev, status: e.target.value }))}\r\n                    className=\"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                  >\r\n                    <option value=\"\">All Status</option>\r\n                    <option value=\"Present\">Present</option>\r\n                    <option value=\"Late\">Late</option>\r\n                    <option value=\"Absent\">Absent</option>\r\n                  </select>\r\n                </div>\r\n\r\n                {/* Table */}\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"w-full\">\r\n                    <thead className=\"bg-gray-50 dark:bg-gray-800\">\r\n                      <tr>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Course</th>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Date</th>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Time</th>\r\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Status</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-200 dark:divide-gray-700\">\r\n                      {filteredHistory.length > 0 ? (\r\n                        filteredHistory.map((record, index) => (\r\n                          <tr key={index} className=\"hover:bg-gray-50 dark:hover:bg-gray-800\">\r\n                            <td className=\"px-6 py-4\">\r\n                              <p className=\"font-medium text-gray-900 dark:text-white\">{record.courseName}</p>\r\n                              <p className=\"text-sm text-gray-500 dark:text-gray-400\">{record.courseCode}</p>\r\n                            </td>\r\n                            <td className=\"px-6 py-4 text-sm text-gray-900 dark:text-white\">{record.sessionDate}</td>\r\n                            <td className=\"px-6 py-4 text-sm text-gray-500 dark:text-gray-400\">{record.startTime} - {record.endTime}</td>\r\n                            <td className=\"px-6 py-4\">\r\n                              <span className={`px-3 py-1 rounded-full text-xs font-medium ${getStatusColor(record.status)}`}>\r\n                                {record.status}\r\n                              </span>\r\n                            </td>\r\n                          </tr>\r\n                        ))\r\n                      ) : (\r\n                        <tr>\r\n                          <td colSpan={4} className=\"px-6 py-12 text-center text-gray-500 dark:text-gray-400\">\r\n                            No attendance records found.\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* COURSES TAB */}\r\n            {activeTab === 'courses' && (\r\n              <div className=\"space-y-4\">\r\n                <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">My Enrolled Courses</h2>\r\n                {courses.length > 0 ? (\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    {courses.map(course => {\r\n                      const stats = courseAttendance.find(c => c.courseId === course.id);\r\n                      return (\r\n                        <div key={course.id} className=\"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800\">\r\n                          <div className=\"flex items-start justify-between mb-4\">\r\n                            <div>\r\n                              <h3 className=\"font-semibold text-gray-900 dark:text-white\">{course.courseTitle}</h3>\r\n                              <p className=\"text-sm text-gray-500 dark:text-gray-400\">{course.courseCode}</p>\r\n                            </div>\r\n                            <span className=\"px-2.5 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full\">\r\n                              {course.program}\r\n                            </span>\r\n                          </div>\r\n                          {stats && (\r\n                            <div className=\"space-y-2\">\r\n                              <div className=\"flex items-center justify-between text-sm\">\r\n                                <span className=\"text-gray-500 dark:text-gray-400\">Attendance</span>\r\n                                <span className=\"font-medium text-gray-900 dark:text-white\">{stats.attendancePercentage}%</span>\r\n                              </div>\r\n                              <div className=\"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden\">\r\n                                <div\r\n                                  className={`h-full rounded-full ${stats.attendancePercentage >= 75\r\n                                      ? 'bg-green-500'\r\n                                      : stats.attendancePercentage >= 50\r\n                                        ? 'bg-yellow-500'\r\n                                        : 'bg-red-500'\r\n                                    }`}\r\n                                  style={{ width: `${stats.attendancePercentage}%` }}\r\n                                />\r\n                              </div>\r\n                              <p className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                                {stats.attended} of {stats.totalSessions} sessions attended\r\n                              </p>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"bg-white dark:bg-gray-900 rounded-xl p-12 border border-gray-200 dark:border-gray-800 text-center\">\r\n                    <svg className=\"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" />\r\n                    </svg>\r\n                    <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">No courses enrolled</h3>\r\n                    <p className=\"text-gray-500 dark:text-gray-400\">Contact your administrator to enroll in courses.</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </main>\r\n      </div>\r\n\r\n      {/* MOBILE BOTTOM NAVIGATION */}\r\n      <nav className=\"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 md:hidden z-50\">\r\n        <div className=\"flex items-center justify-around h-16\">\r\n          {navItems.map(item => (\r\n            <button\r\n              key={item.id}\r\n              onClick={() => setActiveTab(item.id)}\r\n              className={`flex flex-col items-center justify-center flex-1 h-full relative ${activeTab === item.id ? 'text-green-600 dark:text-green-400' : 'text-gray-500 dark:text-gray-400'\r\n                }`}\r\n            >\r\n              {item.icon}\r\n              <span className=\"text-xs mt-1\">{item.label.split(' ')[0]}</span>\r\n              {item.badge > 0 && (\r\n                <span className=\"absolute top-2 right-1/4 w-4 h-4 bg-green-500 text-white text-xs rounded-full flex items-center justify-center\">\r\n                  {item.badge}\r\n                </span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </nav>\r\n\r\n      {/* Spacer for mobile bottom nav */}\r\n      <div className=\"h-16 md:hidden\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StudentDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}