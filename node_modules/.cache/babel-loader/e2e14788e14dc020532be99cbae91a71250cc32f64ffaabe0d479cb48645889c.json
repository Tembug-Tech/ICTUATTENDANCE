{"ast":null,"code":"import React,{useState}from'react';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=_ref=>{var _currentUser$email;let{role}=_ref;const{currentUser,logout}=useAuth();const[isLoggingOut,setIsLoggingOut]=useState(false);const roleDisplay={admin:'ðŸ‘‘ Administrator',delegate:'ðŸ§‘â€ðŸ’¼ Delegate',student:'ðŸŽ“ Student'};const handleLogout=async()=>{try{setIsLoggingOut(true);await logout();window.location.href='/student';}catch(err){console.error('Logout error:',err);alert('Error logging out. Please try again.');setIsLoggingOut(false);}};return/*#__PURE__*/_jsx(\"header\",{className:\"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 sm:px-8 py-4 flex justify-between items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-blue-900 truncate\",children:\"University Attendance System\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:roleDisplay[role]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 sm:gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:block text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900 text-sm\",children:currentUser===null||currentUser===void 0?void 0:currentUser.email}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:(currentUser===null||currentUser===void 0?void 0:currentUser.full_name)||'User'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold flex-shrink-0\",children:currentUser===null||currentUser===void 0?void 0:(_currentUser$email=currentUser.email)===null||_currentUser$email===void 0?void 0:_currentUser$email.charAt(0).toUpperCase()}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,disabled:isLoggingOut,className:\"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white text-sm font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0\",title:\"Logout\",children:isLoggingOut?'...':'Logout'})]})]})});};export default Header;","map":{"version":3,"names":["React","useState","useAuth","jsx","_jsx","jsxs","_jsxs","Header","_ref","_currentUser$email","role","currentUser","logout","isLoggingOut","setIsLoggingOut","roleDisplay","admin","delegate","student","handleLogout","window","location","href","err","console","error","alert","className","children","email","full_name","charAt","toUpperCase","onClick","disabled","title"],"sources":["c:/Users/PFI/Desktop/ictuattennce_portal/ATTENDANCE/src/components/Header.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst Header = ({ role }) => {\r\n  const { currentUser, logout } = useAuth();\r\n  const [isLoggingOut, setIsLoggingOut] = useState(false);\r\n\r\n  const roleDisplay = {\r\n    admin: 'ðŸ‘‘ Administrator',\r\n    delegate: 'ðŸ§‘â€ðŸ’¼ Delegate',\r\n    student: 'ðŸŽ“ Student',\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      setIsLoggingOut(true);\r\n      await logout();\r\n      window.location.href = '/student';\r\n    } catch (err) {\r\n      console.error('Logout error:', err);\r\n      alert('Error logging out. Please try again.');\r\n      setIsLoggingOut(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <header className=\"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-50\">\r\n      <div className=\"px-6 sm:px-8 py-4 flex justify-between items-center gap-4\">\r\n        <div className=\"flex-1 min-w-0\">\r\n          <h1 className=\"text-2xl font-bold text-blue-900 truncate\">University Attendance System</h1>\r\n          <p className=\"text-sm text-gray-600 mt-1\">{roleDisplay[role]}</p>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-3 sm:gap-4\">\r\n          {/* User Info */}\r\n          <div className=\"hidden sm:block text-right\">\r\n            <p className=\"font-semibold text-gray-900 text-sm\">{currentUser?.email}</p>\r\n            <p className=\"text-xs text-gray-600\">{currentUser?.full_name || 'User'}</p>\r\n          </div>\r\n          \r\n          {/* Avatar */}\r\n          <div className=\"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold flex-shrink-0\">\r\n            {currentUser?.email?.charAt(0).toUpperCase()}\r\n          </div>\r\n\r\n          {/* Logout Button */}\r\n          <button\r\n            onClick={handleLogout}\r\n            disabled={isLoggingOut}\r\n            className=\"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white text-sm font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0\"\r\n            title=\"Logout\"\r\n          >\r\n            {isLoggingOut ? '...' : 'Logout'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAAc,KAAAC,kBAAA,IAAb,CAAEC,IAAK,CAAC,CAAAF,IAAA,CACtB,KAAM,CAAEG,WAAW,CAAEC,MAAO,CAAC,CAAGV,OAAO,CAAC,CAAC,CACzC,KAAM,CAACW,YAAY,CAAEC,eAAe,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAEvD,KAAM,CAAAc,WAAW,CAAG,CAClBC,KAAK,CAAE,kBAAkB,CACzBC,QAAQ,CAAE,gBAAgB,CAC1BC,OAAO,CAAE,YACX,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACFL,eAAe,CAAC,IAAI,CAAC,CACrB,KAAM,CAAAF,MAAM,CAAC,CAAC,CACdQ,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,UAAU,CACnC,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,eAAe,CAAEF,GAAG,CAAC,CACnCG,KAAK,CAAC,sCAAsC,CAAC,CAC7CZ,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAC,CAED,mBACEV,IAAA,WAAQuB,SAAS,CAAC,+DAA+D,CAAAC,QAAA,cAC/EtB,KAAA,QAAKqB,SAAS,CAAC,2DAA2D,CAAAC,QAAA,eACxEtB,KAAA,QAAKqB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BxB,IAAA,OAAIuB,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CAAC,8BAA4B,CAAI,CAAC,cAC3FxB,IAAA,MAAGuB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAEb,WAAW,CAACL,IAAI,CAAC,CAAI,CAAC,EAC9D,CAAC,cAENJ,KAAA,QAAKqB,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAE/CtB,KAAA,QAAKqB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzCxB,IAAA,MAAGuB,SAAS,CAAC,qCAAqC,CAAAC,QAAA,CAAEjB,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEkB,KAAK,CAAI,CAAC,cAC3EzB,IAAA,MAAGuB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAE,CAAAjB,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEmB,SAAS,GAAI,MAAM,CAAI,CAAC,EACxE,CAAC,cAGN1B,IAAA,QAAKuB,SAAS,CAAC,wGAAwG,CAAAC,QAAA,CACpHjB,WAAW,SAAXA,WAAW,kBAAAF,kBAAA,CAAXE,WAAW,CAAEkB,KAAK,UAAApB,kBAAA,iBAAlBA,kBAAA,CAAoBsB,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CACzC,CAAC,cAGN5B,IAAA,WACE6B,OAAO,CAAEd,YAAa,CACtBe,QAAQ,CAAErB,YAAa,CACvBc,SAAS,CAAC,mKAAmK,CAC7KQ,KAAK,CAAC,QAAQ,CAAAP,QAAA,CAEbf,YAAY,CAAG,KAAK,CAAG,QAAQ,CAC1B,CAAC,EACN,CAAC,EACH,CAAC,CACA,CAAC,CAEb,CAAC,CAED,cAAe,CAAAN,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}