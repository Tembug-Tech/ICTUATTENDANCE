{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PFI\\\\Desktop\\\\ATTENDANCE\\\\ATTENDANCE\\\\src\\\\pages\\\\StudentDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { supabase } from '../supabase/supabase';\nimport { useAuth } from '../contexts/AuthContext';\nimport Layout from '../components/Layout';\nimport Card from '../components/Card';\nimport Button from '../components/Button';\nimport Badge from '../components/Badge';\nimport Alert from '../components/Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StudentDashboard = () => {\n  _s();\n  const {\n    currentUser,\n    userRole,\n    loading\n  } = useAuth();\n  const navigate = useNavigate();\n\n  // Active session state\n  const [activeSession, setActiveSession] = useState(null);\n  const [sessionsLoading, setSessionsLoading] = useState(true);\n  const [marking, setMarking] = useState(false);\n  const [timeRemaining, setTimeRemaining] = useState(null);\n\n  // Attendance summary\n  const [attendanceSummary, setAttendanceSummary] = useState({\n    totalAttended: 0,\n    totalSessions: 0,\n    percentage: 0\n  });\n  const [summaryLoading, setSummaryLoading] = useState(true);\n\n  // Course attendance\n  const [courseAttendance, setCourseAttendance] = useState([]);\n  const [courseLoading, setCourseLoading] = useState(true);\n\n  // UI state\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n\n  // Protect route - only allow students\n  useEffect(() => {\n    if (loading) return;\n    if (!currentUser || userRole !== 'student') {\n      navigate('/student');\n      return;\n    }\n    fetchActiveSession();\n    fetchAttendanceSummary();\n    fetchCourseAttendance();\n  }, [currentUser, userRole, loading, navigate]);\n\n  // Timer for session countdown\n  useEffect(() => {\n    if (!activeSession) return;\n    const timer = setInterval(() => {\n      const now = new Date();\n      const [endHour, endMin] = activeSession.end_time.split(':');\n      const sessionDate = new Date(activeSession.session_date);\n      const endTime = new Date(sessionDate);\n      endTime.setHours(parseInt(endHour), parseInt(endMin), 0);\n      const diffMs = endTime - now;\n      if (diffMs <= 0) {\n        setTimeRemaining(null);\n        setActiveSession(null);\n        clearInterval(timer);\n      } else {\n        const minutes = Math.floor(diffMs / 60000);\n        const seconds = Math.floor(diffMs % 60000 / 1000);\n        setTimeRemaining(`${minutes} min ${seconds} sec remaining`);\n      }\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [activeSession]);\n  const fetchActiveSession = async () => {\n    try {\n      setSessionsLoading(true);\n      const now = new Date();\n\n      // Get the next/currently active session\n      const {\n        data,\n        error\n      } = await supabase.from('sessions').select(`\n          id,\n          session_date,\n          start_time,\n          end_time,\n          classes (\n            id,\n            class_name,\n            delegate_id,\n            users!delegate_id (\n              name\n            ),\n            courses (\n              course_code,\n              course_title\n            )\n          )\n        `).order('start_time', {\n        ascending: false\n      });\n      if (error) throw error;\n\n      // Find the first active session (current or upcoming)\n      const active = (data || []).find(session => {\n        if (!session.session_date || !session.end_time) return false;\n        const sessionDate = new Date(session.session_date);\n        const [startHour, startMin] = session.start_time.split(':');\n        const [endHour, endMin] = session.end_time.split(':');\n        const sessionStart = new Date(sessionDate);\n        sessionStart.setHours(parseInt(startHour), parseInt(startMin), 0);\n        const sessionEnd = new Date(sessionDate);\n        sessionEnd.setHours(parseInt(endHour), parseInt(endMin), 0);\n\n        // Show if currently happening\n        return now >= sessionStart && now <= sessionEnd;\n      });\n      setActiveSession(active || null);\n    } catch (err) {\n      console.error('Error fetching active session:', err);\n      setActiveSession(null);\n    } finally {\n      setSessionsLoading(false);\n    }\n  };\n  const fetchAttendanceSummary = async () => {\n    try {\n      setSummaryLoading(true);\n\n      // Get attendance records\n      const {\n        data: records\n      } = await supabase.from('attendance').select('id').eq('student_id', currentUser.id);\n\n      // Get all sessions\n      const {\n        data: sessions\n      } = await supabase.from('sessions').select('id');\n      const totalAttended = (records || []).length;\n      const totalSessions = (sessions || []).length;\n      const percentage = totalSessions > 0 ? Math.round(totalAttended / totalSessions * 100) : 0;\n      setAttendanceSummary({\n        totalAttended,\n        totalSessions,\n        percentage\n      });\n    } catch (err) {\n      console.error('Error fetching summary:', err);\n    } finally {\n      setSummaryLoading(false);\n    }\n  };\n  const fetchCourseAttendance = async () => {\n    try {\n      setCourseLoading(true);\n      const {\n        data: records\n      } = await supabase.from('attendance').select(`\n          id,\n          sessions (\n            classes (\n              courses (\n                id,\n                course_code,\n                course_title\n              )\n            )\n          )\n        `).eq('student_id', currentUser.id);\n\n      // Group by course and count\n      const courseMap = {};\n      (records || []).forEach(record => {\n        var _record$sessions, _record$sessions$clas;\n        const course = (_record$sessions = record.sessions) === null || _record$sessions === void 0 ? void 0 : (_record$sessions$clas = _record$sessions.classes) === null || _record$sessions$clas === void 0 ? void 0 : _record$sessions$clas.courses;\n        if (course && !courseMap[course.id]) {\n          courseMap[course.id] = {\n            id: course.id,\n            code: course.course_code,\n            title: course.course_title,\n            attended: 0\n          };\n        }\n        if (course) {\n          courseMap[course.id].attended++;\n        }\n      });\n\n      // Get total sessions per course\n      const {\n        data: allSessions\n      } = await supabase.from('sessions').select(`\n          id,\n          classes (\n            courses (id)\n          )\n        `);\n      Object.values(courseMap).forEach(course => {\n        const total = (allSessions || []).filter(s => {\n          var _s$classes, _s$classes$courses;\n          return ((_s$classes = s.classes) === null || _s$classes === void 0 ? void 0 : (_s$classes$courses = _s$classes.courses) === null || _s$classes$courses === void 0 ? void 0 : _s$classes$courses.id) === course.id;\n        }).length;\n        course.total = total || course.attended;\n        course.percentage = course.total > 0 ? Math.round(course.attended / course.total * 100) : 0;\n        course.eligible = course.percentage >= 75;\n      });\n      setCourseAttendance(Object.values(courseMap));\n    } catch (err) {\n      console.error('Error fetching course attendance:', err);\n    } finally {\n      setCourseLoading(false);\n    }\n  };\n  const handleMarkAttendance = async () => {\n    if (!activeSession) {\n      setError('No active session to mark');\n      return;\n    }\n    try {\n      setMarking(true);\n      setError(null);\n\n      // Validate session time\n      const now = new Date();\n      const [startHour, startMin] = activeSession.start_time.split(':');\n      const [endHour, endMin] = activeSession.end_time.split(':');\n      const startTime = new Date();\n      startTime.setHours(parseInt(startHour), parseInt(startMin), 0);\n      const endTime = new Date();\n      endTime.setHours(parseInt(endHour), parseInt(endMin), 59);\n      if (now < startTime || now > endTime) {\n        setError('Attendance can only be marked during the session time window');\n        return;\n      }\n\n      // Check for existing attendance\n      const {\n        data: existing\n      } = await supabase.from('attendance').select('id').eq('session_id', activeSession.id).eq('student_id', currentUser.id).single();\n      if (existing) {\n        setError('You have already marked attendance for this session');\n        return;\n      }\n\n      // Insert attendance\n      const {\n        error: insertError\n      } = await supabase.from('attendance').insert({\n        session_id: activeSession.id,\n        student_id: currentUser.id,\n        created_at: new Date().toISOString()\n      });\n      if (insertError) throw insertError;\n      setSuccess('Attendance marked successfully');\n      setActiveSession(null);\n      fetchActiveSession();\n      fetchAttendanceSummary();\n      fetchCourseAttendance();\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err) {\n      console.error('Error marking attendance:', err);\n      setError(err.message);\n    } finally {\n      setMarking(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-screen bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-block animate-spin rounded-full h-12 w-12 border border-gray-300 border-t-black mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this);\n  }\n  if (!currentUser || userRole !== 'student') {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    role: \"student\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n        children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 p-4 bg-red-50 border border-red-200 rounded text-red-800 text-sm\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 p-4 bg-green-50 border border-green-200 rounded text-green-800 text-sm\",\n          children: success\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-medium text-gray-900 mb-8\",\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: sessionsLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border border-gray-200 rounded p-8 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"Loading session data...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this) : activeSession ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border border-gray-200 rounded shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-b border-gray-200 px-6 py-4\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-medium text-gray-900\",\n                children: \"Mark Attendance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-6 py-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-6 space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 font-medium uppercase tracking-wide\",\n                    children: \"Course\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xl text-gray-900 mt-1\",\n                    children: [activeSession.classes.courses.course_code, \" - \", activeSession.classes.courses.course_title]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 font-medium uppercase tracking-wide\",\n                      children: \"Session Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-base text-gray-900 mt-1\",\n                      children: activeSession.session_date\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 font-medium uppercase tracking-wide\",\n                      children: \"Session Time\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 364,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-base text-gray-900 mt-1\",\n                      children: [activeSession.start_time, \" \\u2013 \", activeSession.end_time]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 365,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 21\n                }, this), activeSession.classes.users && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 font-medium uppercase tracking-wide\",\n                    children: \"Instructor\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-base text-gray-900 mt-1\",\n                    children: activeSession.classes.users.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 23\n                }, this), timeRemaining && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pt-4 border-t border-gray-200\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 font-medium uppercase tracking-wide\",\n                    children: \"Time Remaining\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-base text-black font-medium mt-1\",\n                    children: timeRemaining\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleMarkAttendance,\n                disabled: marking,\n                className: \"w-full px-6 py-3 bg-black text-white font-medium rounded hover:bg-gray-800 disabled:bg-gray-400 transition-colors\",\n                children: marking ? 'Marking...' : 'Mark Attendance'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border border-gray-200 rounded shadow-sm p-8 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"There are no active sessions at the moment.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), !summaryLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border border-gray-200 rounded shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-b border-gray-200 px-6 py-4\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-medium text-gray-900\",\n                children: \"Attendance Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-6 py-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-3 gap-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 font-medium uppercase tracking-wide\",\n                    children: \"Sessions Attended\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-3xl font-medium text-gray-900 mt-2\",\n                    children: attendanceSummary.totalAttended\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 416,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 font-medium uppercase tracking-wide\",\n                    children: \"Total Sessions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-3xl font-medium text-gray-900 mt-2\",\n                    children: attendanceSummary.totalSessions\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 font-medium uppercase tracking-wide\",\n                    children: \"Attendance Rate\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-3xl font-medium text-gray-900 mt-2\",\n                    children: [attendanceSummary.percentage, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 428,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mt-3 w-full bg-gray-200 rounded-full h-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `h-2 rounded-full transition-all ${attendanceSummary.percentage >= 75 ? 'bg-green-600' : 'bg-amber-600'}`,\n                      style: {\n                        width: `${Math.min(attendanceSummary.percentage, 100)}%`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 430,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this), !courseLoading && courseAttendance.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white border border-gray-200 rounded shadow-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border-b border-gray-200 px-6 py-4\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-medium text-gray-900\",\n                children: \"Course Attendance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"divide-y divide-gray-200\",\n              children: courseAttendance.map(course => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"px-6 py-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-base font-medium text-gray-900\",\n                      children: course.code\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 457,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 mt-1\",\n                      children: course.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 460,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 456,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `text-sm font-medium ${course.eligible ? 'text-green-700' : 'text-amber-700'}`,\n                    children: course.eligible ? 'ELIGIBLE' : 'AT RISK'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 462,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600\",\n                    children: [course.attended, \" of \", course.total, \" sessions\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 470,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm font-medium text-gray-900\",\n                    children: [course.percentage, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 469,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full bg-gray-200 rounded-full h-2 mb-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: `h-2 rounded-full transition-all ${course.eligible ? 'bg-green-600' : 'bg-amber-600'}`,\n                    style: {\n                      width: `${Math.min(course.percentage, 100)}%`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => navigate(`/student/history?course=${course.id}`),\n                  className: \"text-sm text-black font-medium hover:text-gray-700\",\n                  children: \"View Details \\u2192\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 23\n                }, this)]\n              }, course.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 13\n        }, this), !courseLoading && courseAttendance.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border border-gray-200 rounded shadow-sm p-8 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"No attendance records yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 316,\n    columnNumber: 5\n  }, this);\n};\n_s(StudentDashboard, \"igXKo8kHUzpjnFgn/YSrGANWjRQ=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = StudentDashboard;\nexport default StudentDashboard;\nvar _c;\n$RefreshReg$(_c, \"StudentDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","supabase","useAuth","Layout","Card","Button","Badge","Alert","jsxDEV","_jsxDEV","StudentDashboard","_s","currentUser","userRole","loading","navigate","activeSession","setActiveSession","sessionsLoading","setSessionsLoading","marking","setMarking","timeRemaining","setTimeRemaining","attendanceSummary","setAttendanceSummary","totalAttended","totalSessions","percentage","summaryLoading","setSummaryLoading","courseAttendance","setCourseAttendance","courseLoading","setCourseLoading","error","setError","success","setSuccess","fetchActiveSession","fetchAttendanceSummary","fetchCourseAttendance","timer","setInterval","now","Date","endHour","endMin","end_time","split","sessionDate","session_date","endTime","setHours","parseInt","diffMs","clearInterval","minutes","Math","floor","seconds","data","from","select","order","ascending","active","find","session","startHour","startMin","start_time","sessionStart","sessionEnd","err","console","records","eq","id","sessions","length","round","courseMap","forEach","record","_record$sessions","_record$sessions$clas","course","classes","courses","code","course_code","title","course_title","attended","allSessions","Object","values","total","filter","s","_s$classes","_s$classes$courses","eligible","handleMarkAttendance","startTime","existing","single","insertError","insert","session_id","student_id","created_at","toISOString","setTimeout","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","users","name","onClick","disabled","style","width","min","map","_c","$RefreshReg$"],"sources":["C:/Users/PFI/Desktop/ATTENDANCE/ATTENDANCE/src/pages/StudentDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { supabase } from '../supabase/supabase';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport Layout from '../components/Layout';\r\nimport Card from '../components/Card';\r\nimport Button from '../components/Button';\r\nimport Badge from '../components/Badge';\r\nimport Alert from '../components/Alert';\r\n\r\nconst StudentDashboard = () => {\r\n  const { currentUser, userRole, loading } = useAuth();\r\n  const navigate = useNavigate();\r\n  \r\n  // Active session state\r\n  const [activeSession, setActiveSession] = useState(null);\r\n  const [sessionsLoading, setSessionsLoading] = useState(true);\r\n  const [marking, setMarking] = useState(false);\r\n  const [timeRemaining, setTimeRemaining] = useState(null);\r\n  \r\n  // Attendance summary\r\n  const [attendanceSummary, setAttendanceSummary] = useState({\r\n    totalAttended: 0,\r\n    totalSessions: 0,\r\n    percentage: 0\r\n  });\r\n  const [summaryLoading, setSummaryLoading] = useState(true);\r\n  \r\n  // Course attendance\r\n  const [courseAttendance, setCourseAttendance] = useState([]);\r\n  const [courseLoading, setCourseLoading] = useState(true);\r\n  \r\n  // UI state\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n\r\n  // Protect route - only allow students\r\n  useEffect(() => {\r\n    if (loading) return;\r\n\r\n    if (!currentUser || userRole !== 'student') {\r\n      navigate('/student');\r\n      return;\r\n    }\r\n\r\n    fetchActiveSession();\r\n    fetchAttendanceSummary();\r\n    fetchCourseAttendance();\r\n  }, [currentUser, userRole, loading, navigate]);\r\n\r\n  // Timer for session countdown\r\n  useEffect(() => {\r\n    if (!activeSession) return;\r\n\r\n    const timer = setInterval(() => {\r\n      const now = new Date();\r\n      const [endHour, endMin] = activeSession.end_time.split(':');\r\n      \r\n      const sessionDate = new Date(activeSession.session_date);\r\n      const endTime = new Date(sessionDate);\r\n      endTime.setHours(parseInt(endHour), parseInt(endMin), 0);\r\n      \r\n      const diffMs = endTime - now;\r\n      \r\n      if (diffMs <= 0) {\r\n        setTimeRemaining(null);\r\n        setActiveSession(null);\r\n        clearInterval(timer);\r\n      } else {\r\n        const minutes = Math.floor(diffMs / 60000);\r\n        const seconds = Math.floor((diffMs % 60000) / 1000);\r\n        setTimeRemaining(`${minutes} min ${seconds} sec remaining`);\r\n      }\r\n    }, 1000);\r\n\r\n    return () => clearInterval(timer);\r\n  }, [activeSession]);\r\n\r\n  const fetchActiveSession = async () => {\r\n    try {\r\n      setSessionsLoading(true);\r\n      const now = new Date();\r\n\r\n      // Get the next/currently active session\r\n      const { data, error } = await supabase\r\n        .from('sessions')\r\n        .select(`\r\n          id,\r\n          session_date,\r\n          start_time,\r\n          end_time,\r\n          classes (\r\n            id,\r\n            class_name,\r\n            delegate_id,\r\n            users!delegate_id (\r\n              name\r\n            ),\r\n            courses (\r\n              course_code,\r\n              course_title\r\n            )\r\n          )\r\n        `)\r\n        .order('start_time', { ascending: false });\r\n\r\n      if (error) throw error;\r\n      \r\n      // Find the first active session (current or upcoming)\r\n      const active = (data || []).find(session => {\r\n        if (!session.session_date || !session.end_time) return false;\r\n        \r\n        const sessionDate = new Date(session.session_date);\r\n        const [startHour, startMin] = session.start_time.split(':');\r\n        const [endHour, endMin] = session.end_time.split(':');\r\n        \r\n        const sessionStart = new Date(sessionDate);\r\n        sessionStart.setHours(parseInt(startHour), parseInt(startMin), 0);\r\n        \r\n        const sessionEnd = new Date(sessionDate);\r\n        sessionEnd.setHours(parseInt(endHour), parseInt(endMin), 0);\r\n        \r\n        // Show if currently happening\r\n        return now >= sessionStart && now <= sessionEnd;\r\n      });\r\n      \r\n      setActiveSession(active || null);\r\n    } catch (err) {\r\n      console.error('Error fetching active session:', err);\r\n      setActiveSession(null);\r\n    } finally {\r\n      setSessionsLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchAttendanceSummary = async () => {\r\n    try {\r\n      setSummaryLoading(true);\r\n\r\n      // Get attendance records\r\n      const { data: records } = await supabase\r\n        .from('attendance')\r\n        .select('id')\r\n        .eq('student_id', currentUser.id);\r\n\r\n      // Get all sessions\r\n      const { data: sessions } = await supabase\r\n        .from('sessions')\r\n        .select('id');\r\n\r\n      const totalAttended = (records || []).length;\r\n      const totalSessions = (sessions || []).length;\r\n      const percentage = totalSessions > 0 \r\n        ? Math.round((totalAttended / totalSessions) * 100) \r\n        : 0;\r\n\r\n      setAttendanceSummary({\r\n        totalAttended,\r\n        totalSessions,\r\n        percentage\r\n      });\r\n    } catch (err) {\r\n      console.error('Error fetching summary:', err);\r\n    } finally {\r\n      setSummaryLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCourseAttendance = async () => {\r\n    try {\r\n      setCourseLoading(true);\r\n\r\n      const { data: records } = await supabase\r\n        .from('attendance')\r\n        .select(`\r\n          id,\r\n          sessions (\r\n            classes (\r\n              courses (\r\n                id,\r\n                course_code,\r\n                course_title\r\n              )\r\n            )\r\n          )\r\n        `)\r\n        .eq('student_id', currentUser.id);\r\n\r\n      // Group by course and count\r\n      const courseMap = {};\r\n      (records || []).forEach(record => {\r\n        const course = record.sessions?.classes?.courses;\r\n        if (course && !courseMap[course.id]) {\r\n          courseMap[course.id] = {\r\n            id: course.id,\r\n            code: course.course_code,\r\n            title: course.course_title,\r\n            attended: 0\r\n          };\r\n        }\r\n        if (course) {\r\n          courseMap[course.id].attended++;\r\n        }\r\n      });\r\n\r\n      // Get total sessions per course\r\n      const { data: allSessions } = await supabase\r\n        .from('sessions')\r\n        .select(`\r\n          id,\r\n          classes (\r\n            courses (id)\r\n          )\r\n        `);\r\n\r\n      Object.values(courseMap).forEach(course => {\r\n        const total = (allSessions || []).filter(\r\n          s => s.classes?.courses?.id === course.id\r\n        ).length;\r\n        course.total = total || course.attended;\r\n        course.percentage = course.total > 0 \r\n          ? Math.round((course.attended / course.total) * 100)\r\n          : 0;\r\n        course.eligible = course.percentage >= 75;\r\n      });\r\n\r\n      setCourseAttendance(Object.values(courseMap));\r\n    } catch (err) {\r\n      console.error('Error fetching course attendance:', err);\r\n    } finally {\r\n      setCourseLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleMarkAttendance = async () => {\r\n    if (!activeSession) {\r\n      setError('No active session to mark');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setMarking(true);\r\n      setError(null);\r\n\r\n      // Validate session time\r\n      const now = new Date();\r\n      const [startHour, startMin] = activeSession.start_time.split(':');\r\n      const [endHour, endMin] = activeSession.end_time.split(':');\r\n\r\n      const startTime = new Date();\r\n      startTime.setHours(parseInt(startHour), parseInt(startMin), 0);\r\n\r\n      const endTime = new Date();\r\n      endTime.setHours(parseInt(endHour), parseInt(endMin), 59);\r\n\r\n      if (now < startTime || now > endTime) {\r\n        setError('Attendance can only be marked during the session time window');\r\n        return;\r\n      }\r\n\r\n      // Check for existing attendance\r\n      const { data: existing } = await supabase\r\n        .from('attendance')\r\n        .select('id')\r\n        .eq('session_id', activeSession.id)\r\n        .eq('student_id', currentUser.id)\r\n        .single();\r\n\r\n      if (existing) {\r\n        setError('You have already marked attendance for this session');\r\n        return;\r\n      }\r\n\r\n      // Insert attendance\r\n      const { error: insertError } = await supabase\r\n        .from('attendance')\r\n        .insert({\r\n          session_id: activeSession.id,\r\n          student_id: currentUser.id,\r\n          created_at: new Date().toISOString()\r\n        });\r\n\r\n      if (insertError) throw insertError;\r\n\r\n      setSuccess('Attendance marked successfully');\r\n      setActiveSession(null);\r\n      fetchActiveSession();\r\n      fetchAttendanceSummary();\r\n      fetchCourseAttendance();\r\n\r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      console.error('Error marking attendance:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setMarking(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-screen bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block animate-spin rounded-full h-12 w-12 border border-gray-300 border-t-black mb-4\" />\r\n          <p className=\"text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!currentUser || userRole !== 'student') {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Layout role=\"student\">\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n          \r\n          {/* Alerts */}\r\n          {error && (\r\n            <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded text-red-800 text-sm\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          {success && (\r\n            <div className=\"mb-6 p-4 bg-green-50 border border-green-200 rounded text-green-800 text-sm\">\r\n              {success}\r\n            </div>\r\n          )}\r\n\r\n          {/* PAGE TITLE */}\r\n          <h1 className=\"text-3xl font-medium text-gray-900 mb-8\">Dashboard</h1>\r\n\r\n          {/* ===== SECTION 1: MARK ATTENDANCE ===== */}\r\n          <div className=\"mb-8\">\r\n            {sessionsLoading ? (\r\n              <div className=\"bg-white border border-gray-200 rounded p-8 text-center\">\r\n                <p className=\"text-gray-600\">Loading session data...</p>\r\n              </div>\r\n            ) : activeSession ? (\r\n              <div className=\"bg-white border border-gray-200 rounded shadow-sm\">\r\n                <div className=\"border-b border-gray-200 px-6 py-4\">\r\n                  <h2 className=\"text-lg font-medium text-gray-900\">Mark Attendance</h2>\r\n                </div>\r\n                \r\n                <div className=\"px-6 py-6\">\r\n                  {/* Session Information */}\r\n                  <div className=\"mb-6 space-y-4\">\r\n                    <div>\r\n                      <p className=\"text-sm text-gray-600 font-medium uppercase tracking-wide\">Course</p>\r\n                      <p className=\"text-xl text-gray-900 mt-1\">\r\n                        {activeSession.classes.courses.course_code} - {activeSession.classes.courses.course_title}\r\n                      </p>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-2 gap-6\">\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600 font-medium uppercase tracking-wide\">Session Date</p>\r\n                        <p className=\"text-base text-gray-900 mt-1\">{activeSession.session_date}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600 font-medium uppercase tracking-wide\">Session Time</p>\r\n                        <p className=\"text-base text-gray-900 mt-1\">\r\n                          {activeSession.start_time} â€“ {activeSession.end_time}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {activeSession.classes.users && (\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-600 font-medium uppercase tracking-wide\">Instructor</p>\r\n                        <p className=\"text-base text-gray-900 mt-1\">{activeSession.classes.users.name}</p>\r\n                      </div>\r\n                    )}\r\n\r\n                    {timeRemaining && (\r\n                      <div className=\"pt-4 border-t border-gray-200\">\r\n                        <p className=\"text-sm text-gray-600 font-medium uppercase tracking-wide\">Time Remaining</p>\r\n                        <p className=\"text-base text-black font-medium mt-1\">{timeRemaining}</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* Button */}\r\n                  <button\r\n                    onClick={handleMarkAttendance}\r\n                    disabled={marking}\r\n                    className=\"w-full px-6 py-3 bg-black text-white font-medium rounded hover:bg-gray-800 disabled:bg-gray-400 transition-colors\"\r\n                  >\r\n                    {marking ? 'Marking...' : 'Mark Attendance'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"bg-white border border-gray-200 rounded shadow-sm p-8 text-center\">\r\n                <p className=\"text-gray-600\">There are no active sessions at the moment.</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* ===== SECTION 2: ATTENDANCE SUMMARY ===== */}\r\n          {!summaryLoading && (\r\n            <div className=\"mb-8\">\r\n              <div className=\"bg-white border border-gray-200 rounded shadow-sm\">\r\n                <div className=\"border-b border-gray-200 px-6 py-4\">\r\n                  <h2 className=\"text-lg font-medium text-gray-900\">Attendance Summary</h2>\r\n                </div>\r\n\r\n                <div className=\"px-6 py-6\">\r\n                  <div className=\"grid grid-cols-3 gap-6\">\r\n                    {/* Sessions Attended */}\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-sm text-gray-600 font-medium uppercase tracking-wide\">Sessions Attended</p>\r\n                      <p className=\"text-3xl font-medium text-gray-900 mt-2\">{attendanceSummary.totalAttended}</p>\r\n                    </div>\r\n\r\n                    {/* Total Sessions */}\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-sm text-gray-600 font-medium uppercase tracking-wide\">Total Sessions</p>\r\n                      <p className=\"text-3xl font-medium text-gray-900 mt-2\">{attendanceSummary.totalSessions}</p>\r\n                    </div>\r\n\r\n                    {/* Percentage */}\r\n                    <div className=\"text-center\">\r\n                      <p className=\"text-sm text-gray-600 font-medium uppercase tracking-wide\">Attendance Rate</p>\r\n                      <p className=\"text-3xl font-medium text-gray-900 mt-2\">{attendanceSummary.percentage}%</p>\r\n                      <div className=\"mt-3 w-full bg-gray-200 rounded-full h-2\">\r\n                        <div\r\n                          className={`h-2 rounded-full transition-all ${\r\n                            attendanceSummary.percentage >= 75 ? 'bg-green-600' : 'bg-amber-600'\r\n                          }`}\r\n                          style={{ width: `${Math.min(attendanceSummary.percentage, 100)}%` }}\r\n                        ></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* ===== SECTION 3: COURSE ATTENDANCE ===== */}\r\n          {!courseLoading && courseAttendance.length > 0 && (\r\n            <div className=\"mb-8\">\r\n              <div className=\"bg-white border border-gray-200 rounded shadow-sm\">\r\n                <div className=\"border-b border-gray-200 px-6 py-4\">\r\n                  <h2 className=\"text-lg font-medium text-gray-900\">Course Attendance</h2>\r\n                </div>\r\n\r\n                <div className=\"divide-y divide-gray-200\">\r\n                  {courseAttendance.map((course) => (\r\n                    <div key={course.id} className=\"px-6 py-6\">\r\n                      <div className=\"flex justify-between items-start mb-4\">\r\n                        <div className=\"flex-1\">\r\n                          <h3 className=\"text-base font-medium text-gray-900\">\r\n                            {course.code}\r\n                          </h3>\r\n                          <p className=\"text-sm text-gray-600 mt-1\">{course.title}</p>\r\n                        </div>\r\n                        <span className={`text-sm font-medium ${\r\n                          course.eligible ? 'text-green-700' : 'text-amber-700'\r\n                        }`}>\r\n                          {course.eligible ? 'ELIGIBLE' : 'AT RISK'}\r\n                        </span>\r\n                      </div>\r\n\r\n                      <div className=\"flex items-center justify-between mb-3\">\r\n                        <p className=\"text-sm text-gray-600\">{course.attended} of {course.total} sessions</p>\r\n                        <p className=\"text-sm font-medium text-gray-900\">{course.percentage}%</p>\r\n                      </div>\r\n\r\n                      <div className=\"w-full bg-gray-200 rounded-full h-2 mb-4\">\r\n                        <div\r\n                          className={`h-2 rounded-full transition-all ${\r\n                            course.eligible ? 'bg-green-600' : 'bg-amber-600'\r\n                          }`}\r\n                          style={{ width: `${Math.min(course.percentage, 100)}%` }}\r\n                        ></div>\r\n                      </div>\r\n\r\n                      <button\r\n                        onClick={() => navigate(`/student/history?course=${course.id}`)}\r\n                        className=\"text-sm text-black font-medium hover:text-gray-700\"\r\n                      >\r\n                        View Details â†’\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Empty State */}\r\n          {!courseLoading && courseAttendance.length === 0 && (\r\n            <div className=\"bg-white border border-gray-200 rounded shadow-sm p-8 text-center\">\r\n              <p className=\"text-gray-600\">No attendance records yet.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default StudentDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}