{"ast":null,"code":"import React from'react';import{Routes,Route,Navigate}from'react-router-dom';import{useAuth}from'./contexts/AuthContext';import Login from'./pages/Login';import Signup from'./pages/Signup';import AdminDashboard from'./pages/AdminDashboard';import DelegateDashboard from'./pages/DelegateDashboard';import StudentDashboard from'./pages/StudentDashboard';import StudentMarkAttendance from'./pages/StudentMarkAttendance';import StudentAttendanceHistory from'./pages/StudentAttendanceHistory';import StudentCourses from'./pages/StudentCourses';import StudentProfile from'./pages/StudentProfile';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const{currentUser,userRole,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',height:'100vh'},children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"})});}return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(Login,{role:\"admin\"})}),/*#__PURE__*/_jsx(Route,{path:\"/student\",element:/*#__PURE__*/_jsx(Login,{role:\"student\"})}),/*#__PURE__*/_jsx(Route,{path:\"/delegate\",element:/*#__PURE__*/_jsx(Login,{role:\"delegate\"})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/dashboard\",element:/*#__PURE__*/_jsx(AdminDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/student/dashboard\",element:/*#__PURE__*/_jsx(StudentDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/delegate/dashboard\",element:/*#__PURE__*/_jsx(DelegateDashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"/student/mark\",element:/*#__PURE__*/_jsx(StudentMarkAttendance,{})}),/*#__PURE__*/_jsx(Route,{path:\"/student/history\",element:/*#__PURE__*/_jsx(StudentAttendanceHistory,{})}),/*#__PURE__*/_jsx(Route,{path:\"/student/courses\",element:/*#__PURE__*/_jsx(StudentCourses,{})}),/*#__PURE__*/_jsx(Route,{path:\"/student/profile\",element:/*#__PURE__*/_jsx(StudentProfile,{})}),currentUser&&userRole&&/*#__PURE__*/_jsx(Route,{path:\"/\",element:userRole==='admin'?/*#__PURE__*/_jsx(Navigate,{to:\"/admin/dashboard\",replace:true}):userRole==='delegate'?/*#__PURE__*/_jsx(Navigate,{to:\"/delegate/dashboard\",replace:true}):/*#__PURE__*/_jsx(Navigate,{to:\"/student/dashboard\",replace:true})}),(!currentUser||!userRole)&&/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/student\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/student\",replace:true})})]});}export default App;","map":{"version":3,"names":["React","Routes","Route","Navigate","useAuth","Login","Signup","AdminDashboard","DelegateDashboard","StudentDashboard","StudentMarkAttendance","StudentAttendanceHistory","StudentCourses","StudentProfile","jsx","_jsx","jsxs","_jsxs","App","currentUser","userRole","loading","style","display","alignItems","justifyContent","height","children","path","element","role","to","replace"],"sources":["C:/Users/PFI/Desktop/ATTENDANCE/ATTENDANCE/src/App.js"],"sourcesContent":["import React from 'react';\r\nimport { Routes, Route, Navigate } from 'react-router-dom';\r\nimport { useAuth } from './contexts/AuthContext';\r\nimport Login from './pages/Login';\r\nimport Signup from './pages/Signup';\r\nimport AdminDashboard from './pages/AdminDashboard';\r\nimport DelegateDashboard from './pages/DelegateDashboard';\r\nimport StudentDashboard from './pages/StudentDashboard';\r\nimport StudentMarkAttendance from './pages/StudentMarkAttendance';\r\nimport StudentAttendanceHistory from './pages/StudentAttendanceHistory';\r\nimport StudentCourses from './pages/StudentCourses';\r\nimport StudentProfile from './pages/StudentProfile';\r\n\r\nfunction App() {\r\n  const { currentUser, userRole, loading } = useAuth();\r\n\r\n  if (loading) {\r\n    return <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100vh' }}><p>Loading...</p></div>;\r\n  }\r\n\r\n  return (\r\n    <Routes>\r\n      {/* Authentication routes */}\r\n      <Route path=\"/login\" element={<Login />} />\r\n      <Route path=\"/signup\" element={<Signup />} />\r\n      \r\n      {/* Role-specific login routes */}\r\n      <Route path=\"/admin\" element={<Login role=\"admin\" />} />\r\n      <Route path=\"/student\" element={<Login role=\"student\" />} />\r\n      <Route path=\"/delegate\" element={<Login role=\"delegate\" />} />\r\n\r\n      {/* Protected dashboard routes - always render, let component check auth */}\r\n      <Route path=\"/admin/dashboard\" element={<AdminDashboard />} />\r\n      <Route path=\"/student/dashboard\" element={<StudentDashboard />} />\r\n      <Route path=\"/delegate/dashboard\" element={<DelegateDashboard />} />\r\n\r\n      {/* Student subroutes */}\r\n      <Route path=\"/student/mark\" element={<StudentMarkAttendance />} />\r\n      <Route path=\"/student/history\" element={<StudentAttendanceHistory />} />\r\n      <Route path=\"/student/courses\" element={<StudentCourses />} />\r\n      <Route path=\"/student/profile\" element={<StudentProfile />} />\r\n\r\n      {/* Root redirects based on role */}\r\n      {currentUser && userRole && (\r\n        <Route \r\n          path=\"/\" \r\n          element={\r\n            userRole === 'admin' ? <Navigate to=\"/admin/dashboard\" replace /> :\r\n            userRole === 'delegate' ? <Navigate to=\"/delegate/dashboard\" replace /> :\r\n            <Navigate to=\"/student/dashboard\" replace />\r\n          } \r\n        />\r\n      )}\r\n\r\n      {/* Default redirect to student login if not logged in */}\r\n      {(!currentUser || !userRole) && <Route path=\"/\" element={<Navigate to=\"/student\" replace />} />}\r\n\r\n      {/* Catch-all - redirect to student login */}\r\n      <Route path=\"*\" element={<Navigate to=\"/student\" replace />} />\r\n    </Routes>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}