{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PFI\\\\Desktop\\\\ATTENDANCE\\\\ATTENDANCE\\\\src\\\\pages\\\\StudentMarkAttendance.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { supabase } from '../supabase/supabase';\nimport { useAuth } from '../contexts/AuthContext';\nimport Layout from '../components/Layout';\nimport Card from '../components/Card';\nimport Alert from '../components/Alert';\nimport Badge from '../components/Badge';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StudentMarkAttendance = () => {\n  _s();\n  const {\n    currentUser,\n    userRole,\n    loading\n  } = useAuth();\n  const navigate = useNavigate();\n  const [activeSessions, setActiveSessions] = useState([]);\n  const [sessionsLoading, setSessionsLoading] = useState(true);\n  const [submittedAttendance, setSubmittedAttendance] = useState({});\n  const [marking, setMarking] = useState({});\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(null);\n  useEffect(() => {\n    if (loading) return;\n    if (!currentUser || userRole !== 'student') {\n      navigate('/student');\n      return;\n    }\n    fetchActiveSessions();\n\n    // Refresh sessions every 10 seconds\n    const interval = setInterval(fetchActiveSessions, 10000);\n    return () => clearInterval(interval);\n  }, [currentUser, userRole, loading, navigate]);\n  const fetchActiveSessions = async () => {\n    try {\n      setSessionsLoading(true);\n      setError(null);\n\n      // Get active sessions (started but not ended)\n      const {\n        data: sessions,\n        error: sessionsError\n      } = await supabase.from('sessions').select(`\n          *,\n          courses (code, title)\n        `).eq('status', 'active').order('created_at', {\n        ascending: false\n      });\n      if (sessionsError) throw sessionsError;\n      setActiveSessions(sessions || []);\n\n      // Check which sessions the student has already submitted for\n      if (currentUser !== null && currentUser !== void 0 && currentUser.id && sessions && sessions.length > 0) {\n        const {\n          data: submissions,\n          error: submissionsError\n        } = await supabase.from('attendance').select('session_id, status').eq('student_id', currentUser.id).in('session_id', sessions.map(s => s.id));\n        if (!submissionsError && submissions) {\n          const submitted = {};\n          submissions.forEach(sub => {\n            submitted[sub.session_id] = sub.status;\n          });\n          setSubmittedAttendance(submitted);\n        }\n      }\n    } catch (err) {\n      console.error('Error fetching sessions:', err);\n      setError(err.message);\n    } finally {\n      setSessionsLoading(false);\n    }\n  };\n  const handleMarkAttendance = async (sessionId, status) => {\n    try {\n      setMarking(prev => ({\n        ...prev,\n        [sessionId]: true\n      }));\n      setError(null);\n      setSuccess(null);\n\n      // Check if already submitted\n      if (submittedAttendance[sessionId]) {\n        setError(`You have already marked ${submittedAttendance[sessionId]} for this session`);\n        setMarking(prev => ({\n          ...prev,\n          [sessionId]: false\n        }));\n        return;\n      }\n\n      // Insert attendance record\n      const {\n        error: insertError\n      } = await supabase.from('attendance').insert([{\n        session_id: sessionId,\n        student_id: currentUser.id,\n        status: status,\n        timestamp: new Date().toISOString()\n      }]);\n      if (insertError) throw insertError;\n\n      // Update local state\n      setSubmittedAttendance(prev => ({\n        ...prev,\n        [sessionId]: status\n      }));\n\n      // Show success message\n      setSuccess(`‚úÖ Attendance marked as ${status.toUpperCase()}`);\n\n      // Clear success message after 3 seconds\n      setTimeout(() => setSuccess(null), 3000);\n    } catch (err) {\n      console.error('Error marking attendance:', err);\n      setError(`‚ùå Error: ${err.message}`);\n    } finally {\n      setMarking(prev => ({\n        ...prev,\n        [sessionId]: false\n      }));\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 23\n  }, this);\n  if (!currentUser || userRole !== 'student') return null;\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    role: \"student\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold mb-2\",\n          children: \"Mark Attendance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Select your attendance status for active sessions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        type: \"error\",\n        title: \"Error\",\n        message: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n        type: \"success\",\n        title: \"Success\",\n        message: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this), sessionsLoading ? /*#__PURE__*/_jsxDEV(Card, {\n        title: \"Loading Sessions...\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Fetching active attendance sessions...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }, this) : activeSessions.length === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n        title: \"No Active Sessions\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-2\",\n            children: \"\\uD83D\\uDCED No active attendance sessions at the moment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500\",\n            children: \"Check back when your instructor starts a session\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 gap-4\",\n        children: activeSessions.map(session => {\n          var _session$courses, _session$courses2;\n          const isSubmitted = submittedAttendance[session.id];\n          const isMarking = marking[session.id];\n          return /*#__PURE__*/_jsxDEV(Card, {\n            title: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"font-bold text-lg\",\n                  children: ((_session$courses = session.courses) === null || _session$courses === void 0 ? void 0 : _session$courses.title) || 'Unknown Course'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: ((_session$courses2 = session.courses) === null || _session$courses2 === void 0 ? void 0 : _session$courses2.code) || ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 23\n              }, this), isSubmitted && /*#__PURE__*/_jsxDEV(Badge, {\n                text: `Marked: ${isSubmitted}`,\n                type: isSubmitted === 'present' ? 'success' : 'danger'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 21\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"Started: \", new Date(session.created_at).toLocaleTimeString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleMarkAttendance(session.id, 'present'),\n                  disabled: isSubmitted || isMarking,\n                  className: \"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-semibold py-2 px-4 rounded-lg transition\",\n                  children: isMarking ? '‚è≥...' : '‚úÖ Mark Present'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleMarkAttendance(session.id, 'absent'),\n                  disabled: isSubmitted || isMarking,\n                  className: \"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white font-semibold py-2 px-4 rounded-lg transition\",\n                  children: isMarking ? '‚è≥...' : '‚ùå Mark Absent'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 21\n              }, this), isSubmitted && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-center text-gray-600 py-2\",\n                children: [\"You have already marked \", isSubmitted, \" for this session\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 19\n            }, this)\n          }, session.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        title: \"\\uD83D\\uDCCB How It Works\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"flex items-start\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xl mr-3\",\n              children: \"1\\uFE0F\\u20E3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Your instructor will start an attendance session in their dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"flex items-start\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xl mr-3\",\n              children: \"2\\uFE0F\\u20E3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Active sessions will appear on this page automatically\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"flex items-start\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xl mr-3\",\n              children: \"3\\uFE0F\\u20E3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Click \\\"Mark Present\\\" or \\\"Mark Absent\\\" to submit your attendance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"flex items-start\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xl mr-3\",\n              children: \"4\\uFE0F\\u20E3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Once submitted, you cannot change your attendance for that session\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n};\n_s(StudentMarkAttendance, \"3mjIDJkFXaUKcua0FI1myTvd1gE=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = StudentMarkAttendance;\nexport default StudentMarkAttendance;\nvar _c;\n$RefreshReg$(_c, \"StudentMarkAttendance\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","supabase","useAuth","Layout","Card","Alert","Badge","jsxDEV","_jsxDEV","StudentMarkAttendance","_s","currentUser","userRole","loading","navigate","activeSessions","setActiveSessions","sessionsLoading","setSessionsLoading","submittedAttendance","setSubmittedAttendance","marking","setMarking","error","setError","success","setSuccess","fetchActiveSessions","interval","setInterval","clearInterval","data","sessions","sessionsError","from","select","eq","order","ascending","id","length","submissions","submissionsError","in","map","s","submitted","forEach","sub","session_id","status","err","console","message","handleMarkAttendance","sessionId","prev","insertError","insert","student_id","timestamp","Date","toISOString","toUpperCase","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","type","title","session","_session$courses","_session$courses2","isSubmitted","isMarking","courses","code","text","created_at","toLocaleTimeString","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/PFI/Desktop/ATTENDANCE/ATTENDANCE/src/pages/StudentMarkAttendance.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { supabase } from '../supabase/supabase';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport Layout from '../components/Layout';\r\nimport Card from '../components/Card';\r\nimport Alert from '../components/Alert';\r\nimport Badge from '../components/Badge';\r\n\r\nconst StudentMarkAttendance = () => {\r\n  const { currentUser, userRole, loading } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [activeSessions, setActiveSessions] = useState([]);\r\n  const [sessionsLoading, setSessionsLoading] = useState(true);\r\n  const [submittedAttendance, setSubmittedAttendance] = useState({});\r\n  const [marking, setMarking] = useState({});\r\n  const [error, setError] = useState(null);\r\n  const [success, setSuccess] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (loading) return;\r\n    \r\n    if (!currentUser || userRole !== 'student') {\r\n      navigate('/student');\r\n      return;\r\n    }\r\n\r\n    fetchActiveSessions();\r\n    \r\n    // Refresh sessions every 10 seconds\r\n    const interval = setInterval(fetchActiveSessions, 10000);\r\n    return () => clearInterval(interval);\r\n  }, [currentUser, userRole, loading, navigate]);\r\n\r\n  const fetchActiveSessions = async () => {\r\n    try {\r\n      setSessionsLoading(true);\r\n      setError(null);\r\n\r\n      // Get active sessions (started but not ended)\r\n      const { data: sessions, error: sessionsError } = await supabase\r\n        .from('sessions')\r\n        .select(`\r\n          *,\r\n          courses (code, title)\r\n        `)\r\n        .eq('status', 'active')\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (sessionsError) throw sessionsError;\r\n\r\n      setActiveSessions(sessions || []);\r\n\r\n      // Check which sessions the student has already submitted for\r\n      if (currentUser?.id && sessions && sessions.length > 0) {\r\n        const { data: submissions, error: submissionsError } = await supabase\r\n          .from('attendance')\r\n          .select('session_id, status')\r\n          .eq('student_id', currentUser.id)\r\n          .in('session_id', sessions.map(s => s.id));\r\n\r\n        if (!submissionsError && submissions) {\r\n          const submitted = {};\r\n          submissions.forEach(sub => {\r\n            submitted[sub.session_id] = sub.status;\r\n          });\r\n          setSubmittedAttendance(submitted);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching sessions:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setSessionsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleMarkAttendance = async (sessionId, status) => {\r\n    try {\r\n      setMarking(prev => ({ ...prev, [sessionId]: true }));\r\n      setError(null);\r\n      setSuccess(null);\r\n\r\n      // Check if already submitted\r\n      if (submittedAttendance[sessionId]) {\r\n        setError(`You have already marked ${submittedAttendance[sessionId]} for this session`);\r\n        setMarking(prev => ({ ...prev, [sessionId]: false }));\r\n        return;\r\n      }\r\n\r\n      // Insert attendance record\r\n      const { error: insertError } = await supabase\r\n        .from('attendance')\r\n        .insert([\r\n          {\r\n            session_id: sessionId,\r\n            student_id: currentUser.id,\r\n            status: status,\r\n            timestamp: new Date().toISOString(),\r\n          }\r\n        ]);\r\n\r\n      if (insertError) throw insertError;\r\n\r\n      // Update local state\r\n      setSubmittedAttendance(prev => ({\r\n        ...prev,\r\n        [sessionId]: status\r\n      }));\r\n\r\n      // Show success message\r\n      setSuccess(`‚úÖ Attendance marked as ${status.toUpperCase()}`);\r\n      \r\n      // Clear success message after 3 seconds\r\n      setTimeout(() => setSuccess(null), 3000);\r\n    } catch (err) {\r\n      console.error('Error marking attendance:', err);\r\n      setError(`‚ùå Error: ${err.message}`);\r\n    } finally {\r\n      setMarking(prev => ({ ...prev, [sessionId]: false }));\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"p-4\">Loading...</div>;\r\n  if (!currentUser || userRole !== 'student') return null;\r\n\r\n  return (\r\n    <Layout role=\"student\">\r\n      <div className=\"space-y-6\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold mb-2\">Mark Attendance</h1>\r\n          <p className=\"text-gray-600\">Select your attendance status for active sessions</p>\r\n        </div>\r\n\r\n        {error && (\r\n          <Alert type=\"error\" title=\"Error\" message={error} />\r\n        )}\r\n\r\n        {success && (\r\n          <Alert type=\"success\" title=\"Success\" message={success} />\r\n        )}\r\n\r\n        {sessionsLoading ? (\r\n          <Card title=\"Loading Sessions...\">\r\n            <p className=\"text-gray-600\">Fetching active attendance sessions...</p>\r\n          </Card>\r\n        ) : activeSessions.length === 0 ? (\r\n          <Card title=\"No Active Sessions\">\r\n            <div className=\"text-center py-8\">\r\n              <p className=\"text-gray-600 mb-2\">üì≠ No active attendance sessions at the moment</p>\r\n              <p className=\"text-sm text-gray-500\">Check back when your instructor starts a session</p>\r\n            </div>\r\n          </Card>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 gap-4\">\r\n            {activeSessions.map(session => {\r\n              const isSubmitted = submittedAttendance[session.id];\r\n              const isMarking = marking[session.id];\r\n              \r\n              return (\r\n                <Card \r\n                  key={session.id}\r\n                  title={\r\n                    <div className=\"flex justify-between items-start\">\r\n                      <div>\r\n                        <p className=\"font-bold text-lg\">{session.courses?.title || 'Unknown Course'}</p>\r\n                        <p className=\"text-sm text-gray-600\">{session.courses?.code || ''}</p>\r\n                      </div>\r\n                      {isSubmitted && (\r\n                        <Badge text={`Marked: ${isSubmitted}`} type={isSubmitted === 'present' ? 'success' : 'danger'} />\r\n                      )}\r\n                    </div>\r\n                  }\r\n                >\r\n                  <div className=\"space-y-3\">\r\n                    <p className=\"text-sm text-gray-600\">\r\n                      Started: {new Date(session.created_at).toLocaleTimeString()}\r\n                    </p>\r\n                    \r\n                    <div className=\"flex gap-3\">\r\n                      <button\r\n                        onClick={() => handleMarkAttendance(session.id, 'present')}\r\n                        disabled={isSubmitted || isMarking}\r\n                        className=\"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-semibold py-2 px-4 rounded-lg transition\"\r\n                      >\r\n                        {isMarking ? '‚è≥...' : '‚úÖ Mark Present'}\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleMarkAttendance(session.id, 'absent')}\r\n                        disabled={isSubmitted || isMarking}\r\n                        className=\"flex-1 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white font-semibold py-2 px-4 rounded-lg transition\"\r\n                      >\r\n                        {isMarking ? '‚è≥...' : '‚ùå Mark Absent'}\r\n                      </button>\r\n                    </div>\r\n\r\n                    {isSubmitted && (\r\n                      <p className=\"text-sm text-center text-gray-600 py-2\">\r\n                        You have already marked {isSubmitted} for this session\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                </Card>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n\r\n        <Card title=\"üìã How It Works\">\r\n          <div className=\"space-y-3\">\r\n            <p className=\"flex items-start\">\r\n              <span className=\"text-xl mr-3\">1Ô∏è‚É£</span>\r\n              <span>Your instructor will start an attendance session in their dashboard</span>\r\n            </p>\r\n            <p className=\"flex items-start\">\r\n              <span className=\"text-xl mr-3\">2Ô∏è‚É£</span>\r\n              <span>Active sessions will appear on this page automatically</span>\r\n            </p>\r\n            <p className=\"flex items-start\">\r\n              <span className=\"text-xl mr-3\">3Ô∏è‚É£</span>\r\n              <span>Click \"Mark Present\" or \"Mark Absent\" to submit your attendance</span>\r\n            </p>\r\n            <p className=\"flex items-start\">\r\n              <span className=\"text-xl mr-3\">4Ô∏è‚É£</span>\r\n              <span>Once submitted, you cannot change your attendance for that session</span>\r\n            </p>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default StudentMarkAttendance;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,QAAQ,QAAQ,sBAAsB;AAC/C,SAASC,OAAO,QAAQ,yBAAyB;AACjD,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,IAAI,MAAM,oBAAoB;AACrC,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,KAAK,MAAM,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClC,MAAM;IAAEC,WAAW;IAAEC,QAAQ;IAAEC;EAAQ,CAAC,GAAGX,OAAO,CAAC,CAAC;EACpD,MAAMY,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACe,cAAc,EAAEC,iBAAiB,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACmB,eAAe,EAAEC,kBAAkB,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACqB,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGtB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClE,MAAM,CAACuB,OAAO,EAAEC,UAAU,CAAC,GAAGxB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1C,MAAM,CAACyB,KAAK,EAAEC,QAAQ,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAAC2B,OAAO,EAAEC,UAAU,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd,IAAIc,OAAO,EAAE;IAEb,IAAI,CAACF,WAAW,IAAIC,QAAQ,KAAK,SAAS,EAAE;MAC1CE,QAAQ,CAAC,UAAU,CAAC;MACpB;IACF;IAEAa,mBAAmB,CAAC,CAAC;;IAErB;IACA,MAAMC,QAAQ,GAAGC,WAAW,CAACF,mBAAmB,EAAE,KAAK,CAAC;IACxD,OAAO,MAAMG,aAAa,CAACF,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACjB,WAAW,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,QAAQ,CAAC,CAAC;EAE9C,MAAMa,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,IAAI;MACFT,kBAAkB,CAAC,IAAI,CAAC;MACxBM,QAAQ,CAAC,IAAI,CAAC;;MAEd;MACA,MAAM;QAAEO,IAAI,EAAEC,QAAQ;QAAET,KAAK,EAAEU;MAAc,CAAC,GAAG,MAAMhC,QAAQ,CAC5DiC,IAAI,CAAC,UAAU,CAAC,CAChBC,MAAM,CAAC;AAChB;AACA;AACA,SAAS,CAAC,CACDC,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC,CACtBC,KAAK,CAAC,YAAY,EAAE;QAAEC,SAAS,EAAE;MAAM,CAAC,CAAC;MAE5C,IAAIL,aAAa,EAAE,MAAMA,aAAa;MAEtCjB,iBAAiB,CAACgB,QAAQ,IAAI,EAAE,CAAC;;MAEjC;MACA,IAAIrB,WAAW,aAAXA,WAAW,eAAXA,WAAW,CAAE4B,EAAE,IAAIP,QAAQ,IAAIA,QAAQ,CAACQ,MAAM,GAAG,CAAC,EAAE;QACtD,MAAM;UAAET,IAAI,EAAEU,WAAW;UAAElB,KAAK,EAAEmB;QAAiB,CAAC,GAAG,MAAMzC,QAAQ,CAClEiC,IAAI,CAAC,YAAY,CAAC,CAClBC,MAAM,CAAC,oBAAoB,CAAC,CAC5BC,EAAE,CAAC,YAAY,EAAEzB,WAAW,CAAC4B,EAAE,CAAC,CAChCI,EAAE,CAAC,YAAY,EAAEX,QAAQ,CAACY,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACN,EAAE,CAAC,CAAC;QAE5C,IAAI,CAACG,gBAAgB,IAAID,WAAW,EAAE;UACpC,MAAMK,SAAS,GAAG,CAAC,CAAC;UACpBL,WAAW,CAACM,OAAO,CAACC,GAAG,IAAI;YACzBF,SAAS,CAACE,GAAG,CAACC,UAAU,CAAC,GAAGD,GAAG,CAACE,MAAM;UACxC,CAAC,CAAC;UACF9B,sBAAsB,CAAC0B,SAAS,CAAC;QACnC;MACF;IACF,CAAC,CAAC,OAAOK,GAAG,EAAE;MACZC,OAAO,CAAC7B,KAAK,CAAC,0BAA0B,EAAE4B,GAAG,CAAC;MAC9C3B,QAAQ,CAAC2B,GAAG,CAACE,OAAO,CAAC;IACvB,CAAC,SAAS;MACRnC,kBAAkB,CAAC,KAAK,CAAC;IAC3B;EACF,CAAC;EAED,MAAMoC,oBAAoB,GAAG,MAAAA,CAAOC,SAAS,EAAEL,MAAM,KAAK;IACxD,IAAI;MACF5B,UAAU,CAACkC,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAE,CAACD,SAAS,GAAG;MAAK,CAAC,CAAC,CAAC;MACpD/B,QAAQ,CAAC,IAAI,CAAC;MACdE,UAAU,CAAC,IAAI,CAAC;;MAEhB;MACA,IAAIP,mBAAmB,CAACoC,SAAS,CAAC,EAAE;QAClC/B,QAAQ,CAAC,2BAA2BL,mBAAmB,CAACoC,SAAS,CAAC,mBAAmB,CAAC;QACtFjC,UAAU,CAACkC,IAAI,KAAK;UAAE,GAAGA,IAAI;UAAE,CAACD,SAAS,GAAG;QAAM,CAAC,CAAC,CAAC;QACrD;MACF;;MAEA;MACA,MAAM;QAAEhC,KAAK,EAAEkC;MAAY,CAAC,GAAG,MAAMxD,QAAQ,CAC1CiC,IAAI,CAAC,YAAY,CAAC,CAClBwB,MAAM,CAAC,CACN;QACET,UAAU,EAAEM,SAAS;QACrBI,UAAU,EAAEhD,WAAW,CAAC4B,EAAE;QAC1BW,MAAM,EAAEA,MAAM;QACdU,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;MACpC,CAAC,CACF,CAAC;MAEJ,IAAIL,WAAW,EAAE,MAAMA,WAAW;;MAElC;MACArC,sBAAsB,CAACoC,IAAI,KAAK;QAC9B,GAAGA,IAAI;QACP,CAACD,SAAS,GAAGL;MACf,CAAC,CAAC,CAAC;;MAEH;MACAxB,UAAU,CAAC,0BAA0BwB,MAAM,CAACa,WAAW,CAAC,CAAC,EAAE,CAAC;;MAE5D;MACAC,UAAU,CAAC,MAAMtC,UAAU,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC;IAC1C,CAAC,CAAC,OAAOyB,GAAG,EAAE;MACZC,OAAO,CAAC7B,KAAK,CAAC,2BAA2B,EAAE4B,GAAG,CAAC;MAC/C3B,QAAQ,CAAC,YAAY2B,GAAG,CAACE,OAAO,EAAE,CAAC;IACrC,CAAC,SAAS;MACR/B,UAAU,CAACkC,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAE,CAACD,SAAS,GAAG;MAAM,CAAC,CAAC,CAAC;IACvD;EACF,CAAC;EAED,IAAI1C,OAAO,EAAE,oBAAOL,OAAA;IAAKyD,SAAS,EAAC,KAAK;IAAAC,QAAA,EAAC;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EACzD,IAAI,CAAC3D,WAAW,IAAIC,QAAQ,KAAK,SAAS,EAAE,OAAO,IAAI;EAEvD,oBACEJ,OAAA,CAACL,MAAM;IAACoE,IAAI,EAAC,SAAS;IAAAL,QAAA,eACpB1D,OAAA;MAAKyD,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACxB1D,OAAA;QAAA0D,QAAA,gBACE1D,OAAA;UAAIyD,SAAS,EAAC,yBAAyB;UAAAC,QAAA,EAAC;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC5D9D,OAAA;UAAGyD,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAiD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/E,CAAC,EAEL/C,KAAK,iBACJf,OAAA,CAACH,KAAK;QAACmE,IAAI,EAAC,OAAO;QAACC,KAAK,EAAC,OAAO;QAACpB,OAAO,EAAE9B;MAAM;QAAA4C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CACpD,EAEA7C,OAAO,iBACNjB,OAAA,CAACH,KAAK;QAACmE,IAAI,EAAC,SAAS;QAACC,KAAK,EAAC,SAAS;QAACpB,OAAO,EAAE5B;MAAQ;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAC1D,EAEArD,eAAe,gBACdT,OAAA,CAACJ,IAAI;QAACqE,KAAK,EAAC,qBAAqB;QAAAP,QAAA,eAC/B1D,OAAA;UAAGyD,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAsC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnE,CAAC,GACLvD,cAAc,CAACyB,MAAM,KAAK,CAAC,gBAC7BhC,OAAA,CAACJ,IAAI;QAACqE,KAAK,EAAC,oBAAoB;QAAAP,QAAA,eAC9B1D,OAAA;UAAKyD,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/B1D,OAAA;YAAGyD,SAAS,EAAC,oBAAoB;YAAAC,QAAA,EAAC;UAA8C;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACpF9D,OAAA;YAAGyD,SAAS,EAAC,uBAAuB;YAAAC,QAAA,EAAC;UAAgD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtF;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,gBAEP9D,OAAA;QAAKyD,SAAS,EAAC,wBAAwB;QAAAC,QAAA,EACpCnD,cAAc,CAAC6B,GAAG,CAAC8B,OAAO,IAAI;UAAA,IAAAC,gBAAA,EAAAC,iBAAA;UAC7B,MAAMC,WAAW,GAAG1D,mBAAmB,CAACuD,OAAO,CAACnC,EAAE,CAAC;UACnD,MAAMuC,SAAS,GAAGzD,OAAO,CAACqD,OAAO,CAACnC,EAAE,CAAC;UAErC,oBACE/B,OAAA,CAACJ,IAAI;YAEHqE,KAAK,eACHjE,OAAA;cAAKyD,SAAS,EAAC,kCAAkC;cAAAC,QAAA,gBAC/C1D,OAAA;gBAAA0D,QAAA,gBACE1D,OAAA;kBAAGyD,SAAS,EAAC,mBAAmB;kBAAAC,QAAA,EAAE,EAAAS,gBAAA,GAAAD,OAAO,CAACK,OAAO,cAAAJ,gBAAA,uBAAfA,gBAAA,CAAiBF,KAAK,KAAI;gBAAgB;kBAAAN,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACjF9D,OAAA;kBAAGyD,SAAS,EAAC,uBAAuB;kBAAAC,QAAA,EAAE,EAAAU,iBAAA,GAAAF,OAAO,CAACK,OAAO,cAAAH,iBAAA,uBAAfA,iBAAA,CAAiBI,IAAI,KAAI;gBAAE;kBAAAb,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnE,CAAC,EACLO,WAAW,iBACVrE,OAAA,CAACF,KAAK;gBAAC2E,IAAI,EAAE,WAAWJ,WAAW,EAAG;gBAACL,IAAI,EAAEK,WAAW,KAAK,SAAS,GAAG,SAAS,GAAG;cAAS;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CACjG;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE,CACN;YAAAJ,QAAA,eAED1D,OAAA;cAAKyD,SAAS,EAAC,WAAW;cAAAC,QAAA,gBACxB1D,OAAA;gBAAGyD,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,GAAC,WAC1B,EAAC,IAAIL,IAAI,CAACa,OAAO,CAACQ,UAAU,CAAC,CAACC,kBAAkB,CAAC,CAAC;cAAA;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1D,CAAC,eAEJ9D,OAAA;gBAAKyD,SAAS,EAAC,YAAY;gBAAAC,QAAA,gBACzB1D,OAAA;kBACE4E,OAAO,EAAEA,CAAA,KAAM9B,oBAAoB,CAACoB,OAAO,CAACnC,EAAE,EAAE,SAAS,CAAE;kBAC3D8C,QAAQ,EAAER,WAAW,IAAIC,SAAU;kBACnCb,SAAS,EAAC,sHAAsH;kBAAAC,QAAA,EAE/HY,SAAS,GAAG,MAAM,GAAG;gBAAgB;kBAAAX,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChC,CAAC,eACT9D,OAAA;kBACE4E,OAAO,EAAEA,CAAA,KAAM9B,oBAAoB,CAACoB,OAAO,CAACnC,EAAE,EAAE,QAAQ,CAAE;kBAC1D8C,QAAQ,EAAER,WAAW,IAAIC,SAAU;kBACnCb,SAAS,EAAC,kHAAkH;kBAAAC,QAAA,EAE3HY,SAAS,GAAG,MAAM,GAAG;gBAAe;kBAAAX,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC,EAELO,WAAW,iBACVrE,OAAA;gBAAGyD,SAAS,EAAC,wCAAwC;gBAAAC,QAAA,GAAC,0BAC5B,EAACW,WAAW,EAAC,mBACvC;cAAA;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CACJ;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE;UAAC,GAxCDI,OAAO,CAACnC,EAAE;YAAA4B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAyCX,CAAC;QAEX,CAAC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACN,eAED9D,OAAA,CAACJ,IAAI;QAACqE,KAAK,EAAC,2BAAiB;QAAAP,QAAA,eAC3B1D,OAAA;UAAKyD,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxB1D,OAAA;YAAGyD,SAAS,EAAC,kBAAkB;YAAAC,QAAA,gBAC7B1D,OAAA;cAAMyD,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACzC9D,OAAA;cAAA0D,QAAA,EAAM;YAAmE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/E,CAAC,eACJ9D,OAAA;YAAGyD,SAAS,EAAC,kBAAkB;YAAAC,QAAA,gBAC7B1D,OAAA;cAAMyD,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACzC9D,OAAA;cAAA0D,QAAA,EAAM;YAAsD;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClE,CAAC,eACJ9D,OAAA;YAAGyD,SAAS,EAAC,kBAAkB;YAAAC,QAAA,gBAC7B1D,OAAA;cAAMyD,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACzC9D,OAAA;cAAA0D,QAAA,EAAM;YAA+D;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3E,CAAC,eACJ9D,OAAA;YAAGyD,SAAS,EAAC,kBAAkB;YAAAC,QAAA,gBAC7B1D,OAAA;cAAMyD,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACzC9D,OAAA;cAAA0D,QAAA,EAAM;YAAkE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9E,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEb,CAAC;AAAC5D,EAAA,CA9NID,qBAAqB;EAAA,QACkBP,OAAO,EACjCF,WAAW;AAAA;AAAAsF,EAAA,GAFxB7E,qBAAqB;AAgO3B,eAAeA,qBAAqB;AAAC,IAAA6E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}